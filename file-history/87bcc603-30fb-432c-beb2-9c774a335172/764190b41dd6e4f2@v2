---
name: vsaas-skill-updater
description: Use when need to create, update, or audit VSaaS Portal module skills. Triggers on keywords like "update skill", "create skill", "audit skills", "sync skills", "skill maintenance".
version: 1.0.0
---

# VSaaS Portal - Skill 更新工具

此工具用於創建、更新和審核 VSaaS Portal 模組的 Claude Code skills。

## 用途

當需要以下操作時使用此 skill：
- 為新的 VSaaS Portal 模組創建 skill
- 更新現有模組的 skill 內容
- 審核所有模組是否都有對應的 skill
- 檢查 skill 與代碼的一致性

---

## 現有 VSaaS Portal Skills

### 已實現的模組 Skills

| Skill 名稱 | 說明 | 主要關鍵字 |
|-----------|------|-----------|
| `vsaas-account` | 帳戶設定、個人資料、API 金鑰 | account, profile, API key, MFA |
| `vsaas-alarm` | 警報管理、Webhook | alarm, alert, webhook |
| `vsaas-architecture` | 專案架構、路由、狀態管理 | architecture, monorepo, module federation |
| `vsaas-archive` | 視頻存檔、下載、分享 | archive, recorded video, clip |
| `vsaas-auth` | 認證、登入、SSO、MFA | login, logout, authentication, SSO |
| `vsaas-components` | 組件庫使用指南 | component, AppButton, generic-vue |
| `vsaas-device` | 設備管理、設定 | device, camera, NVR, DeviceSettings |
| `vsaas-floorplan` | 樓層平面圖、設備放置 | floorplan, device placement, FOV |
| `vsaas-group` | 群組管理、直播檢視 | group, site, live view, layout |
| `vsaas-notification` | 通知中心、事件警報 | notification, message center, event |
| `vsaas-system` | 系統設定、組織配置 | system, organization, license |
| `vsaas-timelapse` | 縮時攝影、導出 | timelapse, snapshot, capture schedule |
| `vsaas-user-role` | 用戶角色、權限管理 | user, role, permission, RBAC |
| `vsaas-view` | 自訂檢視、串流佈局 | view, customized view, streaming layout |

---

## 創建新 Skill 流程

### Step 1：探索模組結構

```bash
# 1. 檢查頁面目錄
ls packages/app-vsaas-portal/src/pages/{module}/

# 2. 檢查路由定義
cat packages/app-vsaas-portal/src/pages/{module}/route.js

# 3. 檢查 Store 模組
ls packages/app-vsaas-portal/src/store/{module}/

# 4. 檢查相關組件
ls packages/app-vsaas-portal/src/pages/{module}/components/
```

### Step 2：分析模組內容

使用 Explore agent 深入分析：
- 路由結構
- 目錄結構
- Store 狀態、Actions、Getters
- 主要組件功能
- 資料流模式
- API 整合

### Step 3：創建 SKILL.md

```bash
# 創建目錄
mkdir -p ~/.claude/skills/vsaas-{module}

# 創建 SKILL.md
# 內容應包含以下章節
```

---

## SKILL.md 標準模板

```markdown
---
name: vsaas-{module}
description: Use when working with {描述}. Triggers on keywords like "{關鍵字1}", "{關鍵字2}".
version: 1.0.0
---

# VSaaS Portal - {Module} 模組

{模組簡介}

## 模組概述

### 商業邏輯
- {功能1}
- {功能2}

---

## 路由結構

| 路徑 | 名稱 | 說明 |
|------|------|------|
| `/path` | RouteName | 說明 |

---

## 目錄結構

\```
src/pages/{module}/
├── index.vue
├── route.js
└── components/
\```

---

## Store 依賴

### 主要模組：{module}
**位置**：`src/store/{module}/`

\```javascript
state: {
  // 狀態結構
}
\```

#### 關鍵 Actions
| Action | 說明 |
|--------|------|

#### 關鍵 Getters
| Getter | 說明 |
|--------|------|

---

## 主要組件

### 1. ComponentName.vue
**功能**：描述

---

## 關鍵程式碼路徑

### 進入點
- 路由定義位置
- Store 位置

### 資料流
\```
流程圖
\```

---

## 常見開發任務

### 1. 任務名稱
\```bash
# 主要檔案
path/to/file
\```

---

## 使用的組件

### 來自 advanced-vue-components
- ComponentName

### 來自 generic-vue-components
- ComponentName

---

## API 整合

\```javascript
// API 端點
\```

---

## 注意事項

1. 注意事項1
2. 注意事項2
```

---

## 更新現有 Skill 流程

### Step 1：檢查變更

```bash
# 檢查模組最近的 Git 變更
git log --oneline -20 -- packages/app-vsaas-portal/src/pages/{module}/

# 檢查新增的檔案
git diff --name-only HEAD~50 -- packages/app-vsaas-portal/src/pages/{module}/
```

### Step 2：更新 SKILL.md

1. 讀取現有 SKILL.md
2. 分析代碼變更
3. 更新相關章節
4. 更新版本號

### Step 3：驗證更新

- 確認路由結構正確
- 確認 Store 結構正確
- 確認組件列表完整

---

## 審核所有 Skills 流程

### Step 1：列出所有頁面模組

```bash
ls packages/app-vsaas-portal/src/pages/
```

### Step 2：列出現有 Skills

```bash
ls ~/.claude/skills/vsaas-*/SKILL.md
```

### Step 3：比對缺失的模組

對比兩個列表，找出：
- 需要新增的 skill
- 需要更新的 skill
- 可以合併或刪除的 skill

---

## 模組到 Skill 的映射規則

### 需要獨立 Skill 的模組

| 頁面模組 | Skill 名稱 | 原因 |
|---------|-----------|------|
| device | vsaas-device | 核心功能，內容豐富 |
| view | vsaas-view | 獨立功能模組 |
| group | vsaas-group | 獨立功能模組 |
| notification | vsaas-notification | 獨立功能模組 |
| alarm | vsaas-alarm | 獨立功能模組 |
| archive | vsaas-archive | 獨立功能模組 |
| floorplan | vsaas-floorplan | 獨立功能模組 |
| user + role | vsaas-user-role | 相關功能合併 |
| system | vsaas-system | 獨立功能模組 |
| account | vsaas-account | 獨立功能模組 |
| login + auth | vsaas-auth | 相關功能合併 |
| Timelapse + device/timelapse | vsaas-timelapse | 相關功能合併 |

### 不需要獨立 Skill 的模組

| 頁面模組 | 原因 |
|---------|------|
| noPrivileges | 錯誤頁面，無開發需求 |
| upgradePlan | 簡單頁面，無複雜邏輯 |
| NVRForgotPassword | 簡單頁面，無複雜邏輯 |
| share | 分享功能，已在其他模組涵蓋 |
| deviceShare | 設備分享，已在 device 模組涵蓋 |
| searchlight | 可在未來需要時創建 |

---

## 驗證清單

創建或更新 Skill 後，確認以下項目：

- [ ] Frontmatter 格式正確（name, description, version）
- [ ] Description 包含觸發關鍵字
- [ ] 路由結構與代碼一致
- [ ] 目錄結構與代碼一致
- [ ] Store 結構與代碼一致
- [ ] 主要組件列表完整
- [ ] API 端點正確
- [ ] 常見開發任務實用
- [ ] 注意事項有價值

---

## 常用指令

```bash
# 列出所有 vsaas skills
ls ~/.claude/skills/vsaas-*/SKILL.md

# 查看 skill 內容
cat ~/.claude/skills/vsaas-{module}/SKILL.md

# 統計 skills 數量
ls ~/.claude/skills/vsaas-*/SKILL.md | wc -l

# 搜尋特定關鍵字在 skills 中的出現
grep -r "keyword" ~/.claude/skills/vsaas-*/SKILL.md
```

{"parentUuid":null,"isSidechain":true,"userType":"external","cwd":"/Users/liuhanwen/Desktop/project/webtech-monorepo/packages","sessionId":"46130ba2-b7ed-45e0-88b6-475c365b9d80","version":"2.1.12","gitBranch":"vor-27075","agentId":"a23c139","slug":"streamed-hatching-codd","type":"user","message":{"role":"user","content":"The user is asking about LSP (Language Server Protocol) integration with Claude Code. Please search for:\n\n1. Does Claude Code support LSP integration?\n2. How to configure LSP servers with Claude Code\n3. Any MCP servers related to LSP functionality\n4. Settings or configuration for LSP in Claude Code\n\nProvide specific configuration examples if LSP is supported."},"uuid":"27b9b982-8f41-47d5-8a6d-dc3361673b77","timestamp":"2026-01-18T07:13:01.664Z"}
{"parentUuid":"27b9b982-8f41-47d5-8a6d-dc3361673b77","isSidechain":true,"userType":"external","cwd":"/Users/liuhanwen/Desktop/project/webtech-monorepo/packages","sessionId":"46130ba2-b7ed-45e0-88b6-475c365b9d80","version":"2.1.12","gitBranch":"vor-27075","agentId":"a23c139","slug":"streamed-hatching-codd","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01MPNuN73tKvbwqm2T8Wuu3i","type":"message","role":"assistant","content":[{"type":"text","text":"I'll help you find information about LSP integration with Claude Code. Let me search the documentation and relevant resources."}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":2455,"cache_read_input_tokens":4957,"cache_creation":{"ephemeral_5m_input_tokens":2455,"ephemeral_1h_input_tokens":0},"output_tokens":3,"service_tier":"standard"}},"requestId":"req_011CXERpwtmBaqQ487xCSo7k","type":"assistant","uuid":"61d7062b-7bd3-4a17-bc06-33dc50bd0fa0","timestamp":"2026-01-18T07:13:03.553Z"}
{"parentUuid":"61d7062b-7bd3-4a17-bc06-33dc50bd0fa0","isSidechain":true,"userType":"external","cwd":"/Users/liuhanwen/Desktop/project/webtech-monorepo/packages","sessionId":"46130ba2-b7ed-45e0-88b6-475c365b9d80","version":"2.1.12","gitBranch":"vor-27075","agentId":"a23c139","slug":"streamed-hatching-codd","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01MPNuN73tKvbwqm2T8Wuu3i","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01QR2ReVxWmKJxxZQBNkS3cQ","name":"WebFetch","input":{"url":"https://code.claude.com/docs/en/claude_code_docs_map.md","prompt":"LSP Language Server Protocol integration configuration support"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":2455,"cache_read_input_tokens":4957,"cache_creation":{"ephemeral_5m_input_tokens":2455,"ephemeral_1h_input_tokens":0},"output_tokens":3,"service_tier":"standard"}},"requestId":"req_011CXERpwtmBaqQ487xCSo7k","type":"assistant","uuid":"a42817fe-f4e4-4107-a905-e87745ec1aae","timestamp":"2026-01-18T07:13:04.109Z"}
{"parentUuid":"a42817fe-f4e4-4107-a905-e87745ec1aae","isSidechain":true,"userType":"external","cwd":"/Users/liuhanwen/Desktop/project/webtech-monorepo/packages","sessionId":"46130ba2-b7ed-45e0-88b6-475c365b9d80","version":"2.1.12","gitBranch":"vor-27075","agentId":"a23c139","slug":"streamed-hatching-codd","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01MPNuN73tKvbwqm2T8Wuu3i","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01Mwpr5SFpoxc7DjJJ57NymK","name":"WebSearch","input":{"query":"Claude Code LSP Language Server Protocol integration 2026"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":3,"cache_creation_input_tokens":2455,"cache_read_input_tokens":4957,"cache_creation":{"ephemeral_5m_input_tokens":2455,"ephemeral_1h_input_tokens":0},"output_tokens":3,"service_tier":"standard"}},"requestId":"req_011CXERpwtmBaqQ487xCSo7k","type":"assistant","uuid":"477548ba-9aa6-4317-9885-c6b29d8a0dab","timestamp":"2026-01-18T07:13:04.272Z"}
{"parentUuid":"a42817fe-f4e4-4107-a905-e87745ec1aae","isSidechain":true,"userType":"external","cwd":"/Users/liuhanwen/Desktop/project/webtech-monorepo/packages","sessionId":"46130ba2-b7ed-45e0-88b6-475c365b9d80","version":"2.1.12","gitBranch":"vor-27075","agentId":"a23c139","slug":"streamed-hatching-codd","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01QR2ReVxWmKJxxZQBNkS3cQ","type":"tool_result","content":"# null\n\n# Claude Code Documentation Map\n\nThis is a comprehensive map of all Claude Code documentation pages with their headings, designed for easy navigation by LLMs.\n\n> **Note:** This file is auto-generated by GitHub Actions. Do not edit manually.\n> Last updated: 2026-01-14 04:18:45 UTC\n\n## Document Structure\n\nThis map uses a hierarchical structure:\n\n* **##** marks documentation groups (e.g., 'Getting started')\n* **###** marks individual documentation pages\n* **Nested bullets** show the heading structure within each page\n* Each page title links to the full documentation\n\n## Getting started\n\n### [overview](https://code.claude.com/docs/en/overview.md)\n\n* Get started in 30 seconds\n* What Claude Code does for you\n* Why developers love Claude Code\n* Next steps\n* Additional resources\n\n### [quickstart](https://code.claude.com/docs/en/quickstart.md)\n\n* Before you begin\n* Step 1: Install Claude Code\n* Step 2: Log in to your account\n* Step 3: Start your first session\n* Step 4: Ask your first question\n* Step 5: Make your first code change\n* Step 6: Use Git with Claude Code\n* Step 7: Fix a bug or add a feature\n* Step 8: Test out other common workflows\n* Essential commands\n* Pro tips for beginners\n* What's next?\n* Getting help\n\n### [common-workflows](https://code.claude.com/docs/en/common-workflows.md)\n\n* Understand new codebases\n  * Get a quick codebase overview\n  * Find relevant code\n* Fix bugs efficiently\n* Refactor code\n* Use specialized subagents\n* Use Plan Mode for safe code analysis\n  * When to use Plan Mode\n  * How to use Plan Mode\n  * Example: Planning a complex refactor\n  * Configure Plan Mode as default\n* Let Claude interview you\n* Work with tests\n* Create pull requests\n* Handle documentation\n* Work with images\n* Reference files and directories\n* Use extended thinking (thinking mode)\n  * Per-request thinking with `ultrathink`\n  * How extended thinking token budgets work\n* Resume previous conversations\n  * Name your sessions\n  * Use the session picker\n* Run parallel Claude Code sessions with Git worktrees\n* Use Claude as a unix-style utility\n  * Add Claude to your verification process\n  * Pipe in, pipe out\n  * Control output format\n* Create custom slash commands\n  * Create project-specific commands\n  * Add command arguments with \\$ARGUMENTS\n  * Create personal slash commands\n* Ask Claude about its capabilities\n  * Example questions\n* Next steps\n\n### [changelog](https://code.claude.com/docs/en/changelog.md)\n\n* (No headings found)\n\n## Outside of the terminal\n\n### [claude-code-on-the-web](https://code.claude.com/docs/en/claude-code-on-the-web.md)\n\n* What is Claude Code on the web?\n* Who can use Claude Code on the web?\n* Getting started\n* How it works\n* Moving tasks between web and terminal\n  * From terminal to web\n    * Tips for background tasks\n  * From web to terminal\n    * Requirements for teleporting\n* Cloud environment\n  * Default image\n    * Checking available tools\n    * Language-specific setups\n    * Databases\n  * Environment configuration\n  * Dependency management\n    * Local vs remote execution\n    * Persisting environment variables\n* Network access and security\n  * Network policy\n    * GitHub proxy\n    * Security proxy\n  * Access levels\n  * Default allowed domains\n    * Anthropic Services\n    * Version Control\n    * Container Registries\n    * Cloud Platforms\n    * Package Managers - JavaScript/Node\n    * Package Managers - Python\n    * Package Managers - Ruby\n    * Package Managers - Rust\n    * Package Managers - Go\n    * Package Managers - JVM\n    * Package Managers - Other Languages\n    * Linux Distributions\n    * Development Tools & Platforms\n    * Cloud Services & Monitoring\n    * Content Delivery & Mirrors\n    * Schema & Configuration\n  * Security best practices for customized network access\n* Security and isolation\n* Pricing and rate limits\n* Limitations\n* Best practices\n* Related resources\n\n### [desktop](https://code.claude.com/docs/en/desktop.md)\n\n* Claude Code on desktop (Preview)\n* Installation\n* Features\n* Using Git worktrees\n  * Copying files ignored with `.gitignore`\n  * Launch Claude Code on the web\n* Bundled Claude Code version\n* Environment configuration\n  * Custom environment variables\n* Enterprise configuration\n* Related resources\n\n### [chrome](https://code.claude.com/docs/en/chrome.md)\n\n* What the integration enables\n* Prerequisites\n* How the integration works\n* Set up the integration\n* Try it out\n* Example workflows\n  * Test a local web application\n  * Debug with console logs\n  * Automate form filling\n  * Draft content in Google Docs\n  * Extract data from web pages\n  * Run multi-site workflows\n  * Record a demo GIF\n* Best practices\n* Troubleshooting\n  * Extension not detected\n  * Browser not responding\n  * First-time setup\n* Enable by default\n* See also\n\n### [vs-code](https://code.claude.com/docs/en/vs-code.md)\n\n* Prerequisites\n* Install the extension\n* Get started\n* Customize your workflow\n  * Change the layout\n  * Switch to terminal mode\n* VS Code commands and shortcuts\n* Configure settings\n* Use third-party providers\n* VS Code extension vs. Claude Code CLI\n  * Run CLI in VS Code\n  * Switch between extension and CLI\n* Security considerations\n* Fix common issues\n  * Extension won't install\n  * Spark icon not visible\n  * Claude Code never responds\n  * Standalone CLI not connecting to IDE\n* Uninstall the extension\n* Next steps\n\n### [jetbrains](https://code.claude.com/docs/en/jetbrains.md)\n\n* Supported IDEs\n* Features\n* Installation\n  * Marketplace Installation\n* Usage\n  * From Your IDE\n  * From External Terminals\n* Configuration\n  * Claude Code Settings\n  * Plugin Settings\n    * General Settings\n    * ESC Key Configuration\n* Special Configurations\n  * Remote Development\n  * WSL Configuration\n* Troubleshooting\n  * Plugin Not Working\n  * IDE Not Detected\n  * Command Not Found\n* Security Considerations\n\n### [github-actions](https://code.claude.com/docs/en/github-actions.md)\n\n* Why use Claude Code GitHub Actions?\n* What can Claude do?\n  * Claude Code Action\n* Setup\n* Quick setup\n* Manual setup\n* Upgrading from Beta\n  * Essential changes\n  * Breaking Changes Reference\n  * Before and After Example\n* Example use cases\n  * Basic workflow\n  * Using slash commands\n  * Custom automation with prompts\n  * Common use cases\n* Best practices\n  * CLAUDE.md configuration\n  * Security considerations\n  * Optimizing performance\n  * CI costs\n* Configuration examples\n* Using with AWS Bedrock & Google Vertex AI\n  * Prerequisites\n    * For Google Cloud Vertex AI:\n    * For AWS Bedrock:\n* Troubleshooting\n  * Claude not responding to @claude commands\n  * CI not running on Claude's commits\n  * Authentication errors\n* Advanced configuration\n  * Action parameters\n    * Pass CLI arguments\n  * Alternative integration methods\n  * Customizing Claude's behavior\n\n### [gitlab-ci-cd](https://code.claude.com/docs/en/gitlab-ci-cd.md)\n\n* Why use Claude Code with GitLab?\n* How it works\n* What can Claude do?\n* Setup\n  * Quick setup\n  * Manual setup (recommended for production)\n* Example use cases\n  * Turn issues into MRs\n  * Get implementation help\n  * Fix bugs quickly\n* Using with AWS Bedrock & Google Vertex AI\n* Configuration examples\n  * Basic .gitlab-ci.yml (Claude API)\n  * AWS Bedrock job example (OIDC)\n  * Google Vertex AI job example (Workload Identity Federation)\n* Best practices\n  * CLAUDE.md configuration\n  * Security considerations\n  * Optimizing performance\n  * CI costs\n* Security and governance\n* Troubleshooting\n  * Claude not responding to @claude commands\n  * Job can't write comments or open MRs\n  * Authentication errors\n* Advanced configuration\n  * Common parameters and variables\n  * Customizing Claude's behavior\n\n### [slack](https://code.claude.com/docs/en/slack.md)\n\n* Use cases\n* Prerequisites\n* Setting up Claude Code in Slack\n* How it works\n  * Automatic detection\n  * Context gathering\n  * Session flow\n* User interface elements\n  * App Home\n  * Message actions\n  * Repository selection\n* Access and permissions\n  * User-level access\n  * Workspace admin permissions\n* What's accessible where\n* Best practices\n  * Writing effective requests\n  * When to use Slack vs. web\n* Troubleshooting\n  * Sessions not starting\n  * Repository not showing\n  * Wrong repository selected\n  * Authentication errors\n  * Session expiration\n* Current limitations\n* Related resources\n\n## Build with Claude Code\n\n### [sub-agents](https://code.claude.com/docs/en/sub-agents.md)\n\n* Built-in subagents\n* Quickstart: create your first subagent\n* Configure subagents\n  * Use the /agents command\n  * Choose the subagent scope\n  * Write subagent files\n    * Supported frontmatter fields\n  * Choose a model\n  * Control subagent capabilities\n    * Available tools\n    * Permission modes\n    * Conditional rules with hooks\n    * Disable specific subagents\n  * Define hooks for subagents\n    * Hooks in subagent frontmatter\n    * Project-level hooks for subagent events\n* Work with subagents\n  * Understand automatic delegation\n  * Run subagents in foreground or background\n  * Common patterns\n    * Isolate high-volume operations\n    * Run parallel research\n    * Chain subagents\n  * Choose between subagents and main conversation\n  * Manage subagent context\n    * Resume subagents\n    * Auto-compaction\n* Example subagents\n  * Code reviewer\n  * Debugger\n  * Data scientist\n  * Database query validator\n* Next steps\n\n### [plugins](https://code.claude.com/docs/en/plugins.md)\n\n* When to use plugins vs standalone configuration\n* Quickstart\n  * Prerequisites\n  * Create your first plugin\n* Hello Command\n* Hello Command\n  * Plugin structure overview\n  * Develop more complex plugins\n    * Add Skills to your plugin\n    * Add LSP servers to your plugin\n    * Organize complex plugins\n    * Test your plugins locally\n    * Debug plugin issues\n    * Share your plugins\n  * Convert existing configurations to plugins\n    * Migration steps\n    * What changes when migrating\n  * Next steps\n    * For plugin users\n    * For plugin developers\n\n### [discover-plugins](https://code.claude.com/docs/en/discover-plugins.md)\n\n* How marketplaces work\n* Official Anthropic marketplace\n  * Code intelligence\n  * External integrations\n  * Development workflows\n  * Output styles\n* Try it: add the demo marketplace\n* Add marketplaces\n  * Add from GitHub\n  * Add from other Git hosts\n  * Add from local paths\n  * Add from remote URLs\n* Install plugins\n* Manage installed plugins\n* Manage marketplaces\n  * Use the interactive interface\n  * Use CLI commands\n  * Configure auto-updates\n* Configure team marketplaces\n* Troubleshooting\n  * /plugin command not recognized\n  * Common issues\n* Next steps\n\n### [skills](https://code.claude.com/docs/en/skills.md)\n\n* Create your first Skill\n* How Skills work\n  * Where Skills live\n  * When to use Skills versus other options\n* Configure Skills\n  * Write SKILL.md\n    * Available metadata fields\n  * Update or delete a Skill\n  * Add supporting files with progressive disclosure\n    * Example: multi-file Skill structure\n  * Restrict tool access with allowed-tools\n  * Run Skills in a forked context\n  * Define hooks for Skills\n  * Control Skill visibility\n    * When to use each setting\n    * Example: model-only Skill\n  * Skills and subagents\n    * Give a subagent access to Skills\n    * Run a Skill in a subagent context\n  * Distribute Skills\n* Examples\n  * Simple Skill (single file)\n  * Use multiple files\n* Troubleshooting\n  * View and test Skills\n  * Skill not triggering\n  * Skill doesn't load\n  * Skill has errors\n  * Multiple Skills conflict\n  * Plugin Skills not appearing\n* Next steps\n\n### [output-styles](https://code.claude.com/docs/en/output-styles.md)\n\n* Built-in output styles\n* How output styles work\n* Change your output style\n* Create a custom output style\n  * Frontmatter\n* Comparisons to related features\n  * Output Styles vs. CLAUDE.md vs. --append-system-prompt\n  * Output Styles vs. [Agents](/en/sub-agents)\n  * Output Styles vs. [Custom Slash Commands](/en/slash-commands)\n\n### [hooks-guide](https://code.claude.com/docs/en/hooks-guide.md)\n\n* Hook Events Overview\n* Quickstart\n  * Prerequisites\n  * Step 1: Open hooks configuration\n  * Step 2: Add a matcher\n  * Step 3: Add the hook\n  * Step 4: Save your configuration\n  * Step 5: Verify your hook\n  * Step 6: Test your hook\n* More Examples\n  * Code Formatting Hook\n  * Markdown Formatting Hook\n  * Custom Notification Hook\n  * File Protection Hook\n* Learn more\n\n### [headless](https://code.claude.com/docs/en/headless.md)\n\n* Basic usage\n* Examples\n  * Get structured output\n  * Auto-approve tools\n  * Create a commit\n  * Customize the system prompt\n  * Continue conversations\n* Next steps\n\n### [mcp](https://code.claude.com/docs/en/mcp.md)\n\n* What you can do with MCP\n* Popular MCP servers\n* Installing MCP servers\n  * Option 1: Add a remote HTTP server\n  * Option 2: Add a remote SSE server\n  * Option 3: Add a local stdio server\n  * Managing your servers\n  * Dynamic tool updates\n  * Plugin-provided MCP servers\n* MCP installation scopes\n  * Local scope\n  * Project scope\n  * User scope\n  * Choosing the right scope\n  * Scope hierarchy and precedence\n  * Environment variable expansion in `.mcp.json`\n* Practical examples\n  * Example: Monitor errors with Sentry\n  * Example: Connect to GitHub for code reviews\n  * Example: Query your PostgreSQL database\n* Authenticate with remote MCP servers\n* Add MCP servers from JSON configuration\n* Import MCP servers from Claude Desktop\n* Use Claude Code as an MCP server\n* MCP output limits and warnings\n* Use MCP resources\n  * Reference MCP resources\n* Use MCP prompts as slash commands\n  * Execute MCP prompts\n* Managed MCP configuration\n  * Option 1: Exclusive control with managed-mcp.json\n  * Option 2: Policy-based control with allowlists and denylists\n    * Restriction options\n    * Example configuration\n    * How command-based restrictions work\n    * How URL-based restrictions work\n    * Allowlist behavior (`allowedMcpServers`)\n    * Denylist behavior (`deniedMcpServers`)\n    * Important notes\n\n### [troubleshooting](https://code.claude.com/docs/en/troubleshooting.md)\n\n* Common installation issues\n  * Windows installation issues: errors in WSL\n  * Linux and Mac installation issues: permission or command not found errors\n    * Recommended solution: Native Claude Code installation\n  * Windows: \"Claude Code on Windows requires git-bash\"\n  * Windows: \"installMethod is native, but claude command not found\"\n* Permissions and authentication\n  * Repeated permission prompts\n  * Authentication issues\n* Configuration file locations\n  * Resetting configuration\n* Performance and stability\n  * High CPU or memory usage\n  * Command hangs or freezes\n  * Search and discovery issues\n  * Slow or incomplete search results on WSL\n* IDE integration issues\n  * JetBrains IDE not detected on WSL2\n    * WSL2 networking modes\n  * Reporting Windows IDE integration issues (both native and WSL)\n  * Escape key not working in JetBrains (IntelliJ, PyCharm, etc.) terminals\n* Markdown formatting issues\n  * Missing language tags in code blocks\n  * Inconsistent spacing and formatting\n  * Best practices for markdown generation\n* Getting more help\n\n## Deployment\n\n### [third-party-integrations](https://code.claude.com/docs/en/third-party-integrations.md)\n\n* Compare deployment options\n* Configure proxies and gateways\n  * Amazon Bedrock\n  * Microsoft Foundry\n  * Google Vertex AI\n* Best practices for organizations\n  * Invest in documentation and memory\n  * Simplify deployment\n  * Start with guided usage\n  * Configure security policies\n  * Leverage MCP for integrations\n* Next steps\n\n### [amazon-bedrock](https://code.claude.com/docs/en/amazon-bedrock.md)\n\n* Prerequisites\n* Setup\n  * 1. Submit use case details\n  * 2. Configure AWS credentials\n    * Advanced credential configuration\n      * Example configuration\n      * Configuration settings explained\n  * 3. Configure Claude Code\n  * 4. Model configuration\n  * 5. Output token configuration\n* IAM configuration\n* Troubleshooting\n* Additional resources\n\n### [google-vertex-ai](https://code.claude.com/docs/en/google-vertex-ai.md)\n\n* Prerequisites\n* Region Configuration\n* Setup\n  * 1. Enable Vertex AI API\n  * 2. Request model access\n  * 3. Configure GCP credentials\n  * 4. Configure Claude Code\n  * 5. Model configuration\n* IAM configuration\n* 1M token context window\n* Troubleshooting\n* Additional resources\n\n### [microsoft-foundry](https://code.claude.com/docs/en/microsoft-foundry.md)\n\n* Prerequisites\n* Setup\n  * 1. Provision Microsoft Foundry resource\n  * 2. Configure Azure credentials\n  * 3. Configure Claude Code\n* Azure RBAC configuration\n* Troubleshooting\n* Additional resources\n\n### [network-config](https://code.claude.com/docs/en/network-config.md)\n\n* Proxy configuration\n  * Environment variables\n  * Basic authentication\n* Custom CA certificates\n* mTLS authentication\n* Network access requirements\n* Additional resources\n\n### [llm-gateway](https://code.claude.com/docs/en/llm-gateway.md)\n\n* Gateway requirements\n* Configuration\n  * Model selection\n* LiteLLM configuration\n  * Prerequisites\n  * Basic LiteLLM setup\n    * Authentication methods\n      * Static API key\n      * Dynamic API key with helper\n    * Unified endpoint (recommended)\n    * Provider-specific pass-through endpoints (alternative)\n      * Claude API through LiteLLM\n      * Amazon Bedrock through LiteLLM\n      * Google Vertex AI through LiteLLM\n* Additional resources\n\n### [devcontainer](https://code.claude.com/docs/en/devcontainer.md)\n\n* Key features\n* Getting started in 4 steps\n* Configuration breakdown\n* Security features\n* Customization options\n* Example use cases\n  * Secure client work\n  * Team onboarding\n  * Consistent CI/CD environments\n* Related resources\n\n### [sandboxing](https://code.claude.com/docs/en/sandboxing.md)\n\n* Overview\n* Why sandboxing matters\n* How it works\n  * Filesystem isolation\n  * Network isolation\n  * OS-level enforcement\n* Getting started\n  * Enable sandboxing\n  * Sandbox modes\n  * Configure sandboxing\n* Security benefits\n  * Protection against prompt injection\n  * Reduced attack surface\n  * Transparent operation\n* Security Limitations\n* Advanced usage\n  * Custom proxy configuration\n  * Integration with existing security tools\n* Best practices\n* Open source\n* Limitations\n* See also\n\n## Administration\n\n### [setup](https://code.claude.com/docs/en/setup.md)\n\n* System requirements\n  * Additional dependencies\n* Installation\n  * Authentication\n    * For individuals\n    * For teams and organizations\n  * Install a specific version\n  * Binary integrity and code signing\n* NPM installation (deprecated)\n* Windows setup\n* Update Claude Code\n  * Auto updates\n  * Configure release channel\n  * Disable auto-updates\n  * Update manually\n* Uninstall Claude Code\n  * Native installation\n  * Homebrew installation\n  * WinGet installation\n  * NPM installation\n  * Clean up configuration files (optional)\n\n### [iam](https://code.claude.com/docs/en/iam.md)\n\n* Authentication methods\n  * Claude for Teams or Enterprise (recommended)\n  * Claude Console authentication\n  * Cloud provider authentication\n* Access control and permissions\n  * Permission system\n  * Configuring permissions\n    * Permission modes\n    * Working directories\n    * Tool-specific permission rules\n  * Additional permission control with hooks\n  * Managed settings\n  * Settings precedence\n* Credential management\n\n### [security](https://code.claude.com/docs/en/security.md)\n\n* How we approach security\n  * Security foundation\n  * Permission-based architecture\n  * Built-in protections\n  * User responsibility\n* Protect against prompt injection\n  * Core protections\n  * Privacy safeguards\n  * Additional safeguards\n* MCP security\n* IDE security\n* Cloud execution security\n* Security best practices\n  * Working with sensitive code\n  * Team security\n  * Reporting security issues\n* Related resources\n\n### [data-usage](https://code.claude.com/docs/en/data-usage.md)\n\n* Data policies\n  * Data training policy\n  * Development Partner Program\n  * Feedback using the `/bug` command\n  * Session quality surveys\n  * Data retention\n* Data access\n* Local Claude Code: Data flow and dependencies\n  * Cloud execution: Data flow and dependencies\n* Telemetry services\n* Default behaviors by API provider\n\n### [monitoring-usage](https://code.claude.com/docs/en/monitoring-usage.md)\n\n* Quick start\n* Administrator configuration\n* Configuration details\n  * Common configuration variables\n  * Metrics cardinality control\n  * Dynamic headers\n    * Settings configuration\n    * Script requirements\n    * Refresh behavior\n  * Multi-team organization support\n  * Example configurations\n* Available metrics and events\n  * Standard attributes\n  * Metrics\n  * Metric details\n    * Session counter\n    * Lines of code counter\n    * Pull request counter\n    * Commit counter\n    * Cost counter\n    * Token counter\n    * Code edit tool decision counter\n    * Active time counter\n  * Events\n    * User prompt event\n    * Tool result event\n    * API request event\n    * API error event\n    * Tool decision event\n* Interpreting metrics and events data\n  * Usage monitoring\n  * Cost monitoring\n  * Alerting and segmentation\n  * Event analysis\n* Backend considerations\n  * For metrics\n  * For events/logs\n* Service information\n* ROI measurement resources\n* Security/privacy considerations\n* Monitoring Claude Code on Amazon Bedrock\n\n### [costs](https://code.claude.com/docs/en/costs.md)\n\n* Track your costs\n  * Using the `/cost` command\n  * Additional tracking options\n* Managing costs for teams\n  * Rate limit recommendations\n* Reduce token usage\n* Background token usage\n* Tracking version changes and updates\n  * Current version information\n  * Understanding changes in Claude Code behavior\n  * When cost reporting changes\n\n### [analytics](https://code.claude.com/docs/en/analytics.md)\n\n* Access analytics\n  * Required roles\n* Available metrics\n  * Lines of code accepted\n  * Suggestion accept rate\n  * Activity\n  * Spend\n  * Team insights\n* Using analytics effectively\n  * Monitor adoption\n  * Measure productivity\n* Related resources\n\n### [plugin-marketplaces](https://code.claude.com/docs/en/plugin-marketplaces.md)\n\n* Overview\n* Walkthrough: create a local marketplace\n* Create the marketplace file\n* Marketplace schema\n  * Required fields\n  * Owner fields\n  * Optional metadata\n* Plugin entries\n  * Required fields\n  * Optional plugin fields\n* Plugin sources\n  * Relative paths\n  * GitHub repositories\n  * Git repositories\n  * Advanced plugin entries\n* Host and distribute marketplaces\n  * Host on GitHub (recommended)\n  * Host on other git services\n  * Private repositories\n  * Test locally before distribution\n  * Require marketplaces for your team\n  * Managed marketplace restrictions\n    * Common configurations\n    * How restrictions work\n* Validation and testing\n* Troubleshooting\n  * Marketplace not loading\n  * Marketplace validation errors\n  * Plugin installation failures\n  * Private repository authentication fails\n  * Plugins with relative paths fail in URL-based marketplaces\n  * Files not found after installation\n* See also\n\n## Configuration\n\n### [settings](https://code.claude.com/docs/en/settings.md)\n\n* Configuration scopes\n  * Available scopes\n  * When to use each scope\n  * How scopes interact\n  * What uses scopes\n* Settings files\n  * Available settings\n  * Permission settings\n  * Sandbox settings\n  * Attribution settings\n  * File suggestion settings\n  * Hook configuration\n  * Settings precedence\n  * Key points about the configuration system\n  * System prompt\n  * Excluding sensitive files\n* Subagent configuration\n* Plugin configuration\n  * Plugin settings\n    * `enabledPlugins`\n    * `extraKnownMarketplaces`\n    * `strictKnownMarketplaces`\n  * Managing plugins\n* Environment variables\n* Tools available to Claude\n  * Bash tool behavior\n  * Extending tools with hooks\n* See also\n\n### [terminal-config](https://code.claude.com/docs/en/terminal-config.md)\n\n* Themes and appearance\n* Line breaks\n* Notification setup\n  * iTerm 2 system notifications\n  * Custom notification hooks\n* Handling large inputs\n* Vim Mode\n\n### [model-config](https://code.claude.com/docs/en/model-config.md)\n\n* Available models\n  * Model aliases\n  * Setting your model\n* Special model behavior\n  * `default` model setting\n  * `opusplan` model setting\n  * Extended context with \\[1m]\n* Checking your current model\n* Environment variables\n  * Prompt caching configuration\n\n### [memory](https://code.claude.com/docs/en/memory.md)\n\n* Determine memory type\n* CLAUDE.md imports\n* How Claude looks up memories\n* Directly edit memories with `/memory`\n* Set up project memory\n* Modular rules with `.claude/rules/`\n  * Basic structure\n  * Path-specific rules\n  * Glob patterns\n  * Subdirectories\n  * Symlinks\n  * User-level rules\n* Organization-level memory management\n* Memory best practices\n\n### [statusline](https://code.claude.com/docs/en/statusline.md)\n\n* Create a custom status line\n* How it Works\n* JSON Input Structure\n* Example Scripts\n  * Simple Status Line\n  * Git-Aware Status Line\n  * Python Example\n  * Node.js Example\n  * Helper Function Approach\n  * Context Window Usage\n* Tips\n* Troubleshooting\n\n## Reference\n\n### [cli-reference](https://code.claude.com/docs/en/cli-reference.md)\n\n* CLI commands\n* CLI flags\n  * Agents flag format\n  * System prompt flags\n* See also\n\n### [interactive-mode](https://code.claude.com/docs/en/interactive-mode.md)\n\n* Keyboard shortcuts\n  * General controls\n  * Text editing\n  * Theme and display\n  * Multiline input\n  * Quick commands\n* Vim editor mode\n  * Mode switching\n  * Navigation (NORMAL mode)\n  * Editing (NORMAL mode)\n  * Text objects (NORMAL mode)\n* Command history\n  * Reverse search with Ctrl+R\n* Background bash commands\n  * How backgrounding works\n  * Bash mode with `!` prefix\n* See also\n\n### [slash-commands](https://code.claude.com/docs/en/slash-commands.md)\n\n* Built-in slash commands\n* Custom slash commands\n  * Syntax\n    * Parameters\n  * Command types\n    * Project commands\n    * Personal commands\n  * Features\n    * Namespacing\n    * Arguments\n      * All arguments with `$ARGUMENTS`\n      * Individual arguments with `$1`, `$2`, etc.\n    * Bash command execution\n    * File references\n    * Thinking mode\n  * Frontmatter\n    * Define hooks for commands\n* Plugin commands\n  * How plugin commands work\n  * Plugin command structure\n  * Invocation patterns\n* MCP slash commands\n  * Command format\n  * Features\n    * Dynamic discovery\n    * Arguments\n    * Naming conventions\n  * Managing MCP connections\n  * MCP permissions and wildcards\n* `Skill` tool\n  * What the `Skill` tool can invoke\n  * Encourage Claude to use specific commands\n  * Disable the `Skill` tool\n  * Disable specific commands or Skills\n  * `Skill` permission rules\n  * Character budget limit\n* Skills vs slash commands\n  * Use slash commands for\n  * Use Skills for\n  * Key differences\n  * Example comparison\n  * When to use each\n* See also\n\n### [checkpointing](https://code.claude.com/docs/en/checkpointing.md)\n\n* How checkpoints work\n  * Automatic tracking\n  * Rewinding changes\n* Common use cases\n* Limitations\n  * Bash command changes not tracked\n  * External changes not tracked\n  * Not a replacement for version control\n* See also\n\n### [hooks](https://code.claude.com/docs/en/hooks.md)\n\n* Configuration\n  * Structure\n  * Project-Specific Hook Scripts\n  * Plugin hooks\n  * Hooks in Skills, Agents, and Slash Commands\n* Prompt-Based Hooks\n  * How prompt-based hooks work\n  * Configuration\n  * Response schema\n  * Supported hook events\n  * Example: Intelligent Stop hook\n  * Example: SubagentStop with custom logic\n  * Comparison with bash command hooks\n  * Best practices\n* Hook Events\n  * PreToolUse\n  * PermissionRequest\n  * PostToolUse\n  * Notification\n  * UserPromptSubmit\n  * Stop\n  * SubagentStop\n  * PreCompact\n  * SessionStart\n    * Persisting environment variables\n  * SessionEnd\n* Hook Input\n  * PreToolUse Input\n    * Bash tool\n    * Write tool\n    * Edit tool\n    * Read tool\n  * PostToolUse Input\n  * Notification Input\n  * UserPromptSubmit Input\n  * Stop and SubagentStop Input\n  * PreCompact Input\n  * SessionStart Input\n  * SessionEnd Input\n* Hook Output\n  * Simple: Exit Code\n    * Exit Code 2 Behavior\n  * Advanced: JSON Output\n    * Common JSON Fields\n    * `PreToolUse` Decision Control\n    * `PermissionRequest` Decision Control\n    * `PostToolUse` Decision Control\n    * `UserPromptSubmit` Decision Control\n    * `Stop`/`SubagentStop` Decision Control\n    * `SessionStart` Decision Control\n    * `SessionEnd` Decision Control\n    * Exit Code Example: Bash Command Validation\n    * JSON Output Example: UserPromptSubmit to Add Context and Validation\n    * JSON Output Example: PreToolUse with Approval\n* Working with MCP Tools\n  * MCP Tool Naming\n  * Configuring Hooks for MCP Tools\n* Examples\n* Security Considerations\n  * Disclaimer\n  * Security Best Practices\n  * Configuration Safety\n* Hook Execution Details\n* Debugging\n  * Basic Troubleshooting\n  * Advanced Debugging\n  * Debug Output Example\n\n### [plugins-reference](https://code.claude.com/docs/en/plugins-reference.md)\n\n* Plugin components reference\n  * Commands\n  * Agents\n  * Skills\n  * Hooks\n  * MCP servers\n  * LSP servers\n* Plugin installation scopes\n* Plugin manifest schema\n  * Complete schema\n  * Required fields\n  * Metadata fields\n  * Component path fields\n  * Path behavior rules\n  * Environment variables\n* Plugin caching and file resolution\n  * How plugin caching works\n  * Path traversal limitations\n  * Working with external dependencies\n* Plugin directory structure\n  * Standard plugin layout\n  * File locations reference\n* CLI commands reference\n  * plugin install\n  * plugin uninstall\n  * plugin enable\n  * plugin disable\n  * plugin update\n* Debugging and development tools\n  * Debugging commands\n  * Common issues\n  * Example error messages\n  * Hook troubleshooting\n  * MCP server troubleshooting\n  * Directory structure mistakes\n* Distribution and versioning reference\n  * Version management\n* See also\n\n## Resources\n\n### [legal-and-compliance](https://code.claude.com/docs/en/legal-and-compliance.md)\n\n* Legal agreements\n  * License\n  * Commercial agreements\n* Compliance\n  * Healthcare compliance (BAA)\n* Security and trust\n  * Trust and safety\n  * Security vulnerability reporting\n\n\n---\n\n> To find navigation and other pages in this documentation, fetch the llms.txt file at: https://code.claude.com/docs/llms.txt"}]},"uuid":"293a57ea-5efa-46ed-8952-f7d4e5768f77","timestamp":"2026-01-18T07:13:04.373Z","toolUseResult":{"bytes":30307,"code":200,"codeText":"OK","result":"# null\n\n# Claude Code Documentation Map\n\nThis is a comprehensive map of all Claude Code documentation pages with their headings, designed for easy navigation by LLMs.\n\n> **Note:** This file is auto-generated by GitHub Actions. Do not edit manually.\n> Last updated: 2026-01-14 04:18:45 UTC\n\n## Document Structure\n\nThis map uses a hierarchical structure:\n\n* **##** marks documentation groups (e.g., 'Getting started')\n* **###** marks individual documentation pages\n* **Nested bullets** show the heading structure within each page\n* Each page title links to the full documentation\n\n## Getting started\n\n### [overview](https://code.claude.com/docs/en/overview.md)\n\n* Get started in 30 seconds\n* What Claude Code does for you\n* Why developers love Claude Code\n* Next steps\n* Additional resources\n\n### [quickstart](https://code.claude.com/docs/en/quickstart.md)\n\n* Before you begin\n* Step 1: Install Claude Code\n* Step 2: Log in to your account\n* Step 3: Start your first session\n* Step 4: Ask your first question\n* Step 5: Make your first code change\n* Step 6: Use Git with Claude Code\n* Step 7: Fix a bug or add a feature\n* Step 8: Test out other common workflows\n* Essential commands\n* Pro tips for beginners\n* What's next?\n* Getting help\n\n### [common-workflows](https://code.claude.com/docs/en/common-workflows.md)\n\n* Understand new codebases\n  * Get a quick codebase overview\n  * Find relevant code\n* Fix bugs efficiently\n* Refactor code\n* Use specialized subagents\n* Use Plan Mode for safe code analysis\n  * When to use Plan Mode\n  * How to use Plan Mode\n  * Example: Planning a complex refactor\n  * Configure Plan Mode as default\n* Let Claude interview you\n* Work with tests\n* Create pull requests\n* Handle documentation\n* Work with images\n* Reference files and directories\n* Use extended thinking (thinking mode)\n  * Per-request thinking with `ultrathink`\n  * How extended thinking token budgets work\n* Resume previous conversations\n  * Name your sessions\n  * Use the session picker\n* Run parallel Claude Code sessions with Git worktrees\n* Use Claude as a unix-style utility\n  * Add Claude to your verification process\n  * Pipe in, pipe out\n  * Control output format\n* Create custom slash commands\n  * Create project-specific commands\n  * Add command arguments with \\$ARGUMENTS\n  * Create personal slash commands\n* Ask Claude about its capabilities\n  * Example questions\n* Next steps\n\n### [changelog](https://code.claude.com/docs/en/changelog.md)\n\n* (No headings found)\n\n## Outside of the terminal\n\n### [claude-code-on-the-web](https://code.claude.com/docs/en/claude-code-on-the-web.md)\n\n* What is Claude Code on the web?\n* Who can use Claude Code on the web?\n* Getting started\n* How it works\n* Moving tasks between web and terminal\n  * From terminal to web\n    * Tips for background tasks\n  * From web to terminal\n    * Requirements for teleporting\n* Cloud environment\n  * Default image\n    * Checking available tools\n    * Language-specific setups\n    * Databases\n  * Environment configuration\n  * Dependency management\n    * Local vs remote execution\n    * Persisting environment variables\n* Network access and security\n  * Network policy\n    * GitHub proxy\n    * Security proxy\n  * Access levels\n  * Default allowed domains\n    * Anthropic Services\n    * Version Control\n    * Container Registries\n    * Cloud Platforms\n    * Package Managers - JavaScript/Node\n    * Package Managers - Python\n    * Package Managers - Ruby\n    * Package Managers - Rust\n    * Package Managers - Go\n    * Package Managers - JVM\n    * Package Managers - Other Languages\n    * Linux Distributions\n    * Development Tools & Platforms\n    * Cloud Services & Monitoring\n    * Content Delivery & Mirrors\n    * Schema & Configuration\n  * Security best practices for customized network access\n* Security and isolation\n* Pricing and rate limits\n* Limitations\n* Best practices\n* Related resources\n\n### [desktop](https://code.claude.com/docs/en/desktop.md)\n\n* Claude Code on desktop (Preview)\n* Installation\n* Features\n* Using Git worktrees\n  * Copying files ignored with `.gitignore`\n  * Launch Claude Code on the web\n* Bundled Claude Code version\n* Environment configuration\n  * Custom environment variables\n* Enterprise configuration\n* Related resources\n\n### [chrome](https://code.claude.com/docs/en/chrome.md)\n\n* What the integration enables\n* Prerequisites\n* How the integration works\n* Set up the integration\n* Try it out\n* Example workflows\n  * Test a local web application\n  * Debug with console logs\n  * Automate form filling\n  * Draft content in Google Docs\n  * Extract data from web pages\n  * Run multi-site workflows\n  * Record a demo GIF\n* Best practices\n* Troubleshooting\n  * Extension not detected\n  * Browser not responding\n  * First-time setup\n* Enable by default\n* See also\n\n### [vs-code](https://code.claude.com/docs/en/vs-code.md)\n\n* Prerequisites\n* Install the extension\n* Get started\n* Customize your workflow\n  * Change the layout\n  * Switch to terminal mode\n* VS Code commands and shortcuts\n* Configure settings\n* Use third-party providers\n* VS Code extension vs. Claude Code CLI\n  * Run CLI in VS Code\n  * Switch between extension and CLI\n* Security considerations\n* Fix common issues\n  * Extension won't install\n  * Spark icon not visible\n  * Claude Code never responds\n  * Standalone CLI not connecting to IDE\n* Uninstall the extension\n* Next steps\n\n### [jetbrains](https://code.claude.com/docs/en/jetbrains.md)\n\n* Supported IDEs\n* Features\n* Installation\n  * Marketplace Installation\n* Usage\n  * From Your IDE\n  * From External Terminals\n* Configuration\n  * Claude Code Settings\n  * Plugin Settings\n    * General Settings\n    * ESC Key Configuration\n* Special Configurations\n  * Remote Development\n  * WSL Configuration\n* Troubleshooting\n  * Plugin Not Working\n  * IDE Not Detected\n  * Command Not Found\n* Security Considerations\n\n### [github-actions](https://code.claude.com/docs/en/github-actions.md)\n\n* Why use Claude Code GitHub Actions?\n* What can Claude do?\n  * Claude Code Action\n* Setup\n* Quick setup\n* Manual setup\n* Upgrading from Beta\n  * Essential changes\n  * Breaking Changes Reference\n  * Before and After Example\n* Example use cases\n  * Basic workflow\n  * Using slash commands\n  * Custom automation with prompts\n  * Common use cases\n* Best practices\n  * CLAUDE.md configuration\n  * Security considerations\n  * Optimizing performance\n  * CI costs\n* Configuration examples\n* Using with AWS Bedrock & Google Vertex AI\n  * Prerequisites\n    * For Google Cloud Vertex AI:\n    * For AWS Bedrock:\n* Troubleshooting\n  * Claude not responding to @claude commands\n  * CI not running on Claude's commits\n  * Authentication errors\n* Advanced configuration\n  * Action parameters\n    * Pass CLI arguments\n  * Alternative integration methods\n  * Customizing Claude's behavior\n\n### [gitlab-ci-cd](https://code.claude.com/docs/en/gitlab-ci-cd.md)\n\n* Why use Claude Code with GitLab?\n* How it works\n* What can Claude do?\n* Setup\n  * Quick setup\n  * Manual setup (recommended for production)\n* Example use cases\n  * Turn issues into MRs\n  * Get implementation help\n  * Fix bugs quickly\n* Using with AWS Bedrock & Google Vertex AI\n* Configuration examples\n  * Basic .gitlab-ci.yml (Claude API)\n  * AWS Bedrock job example (OIDC)\n  * Google Vertex AI job example (Workload Identity Federation)\n* Best practices\n  * CLAUDE.md configuration\n  * Security considerations\n  * Optimizing performance\n  * CI costs\n* Security and governance\n* Troubleshooting\n  * Claude not responding to @claude commands\n  * Job can't write comments or open MRs\n  * Authentication errors\n* Advanced configuration\n  * Common parameters and variables\n  * Customizing Claude's behavior\n\n### [slack](https://code.claude.com/docs/en/slack.md)\n\n* Use cases\n* Prerequisites\n* Setting up Claude Code in Slack\n* How it works\n  * Automatic detection\n  * Context gathering\n  * Session flow\n* User interface elements\n  * App Home\n  * Message actions\n  * Repository selection\n* Access and permissions\n  * User-level access\n  * Workspace admin permissions\n* What's accessible where\n* Best practices\n  * Writing effective requests\n  * When to use Slack vs. web\n* Troubleshooting\n  * Sessions not starting\n  * Repository not showing\n  * Wrong repository selected\n  * Authentication errors\n  * Session expiration\n* Current limitations\n* Related resources\n\n## Build with Claude Code\n\n### [sub-agents](https://code.claude.com/docs/en/sub-agents.md)\n\n* Built-in subagents\n* Quickstart: create your first subagent\n* Configure subagents\n  * Use the /agents command\n  * Choose the subagent scope\n  * Write subagent files\n    * Supported frontmatter fields\n  * Choose a model\n  * Control subagent capabilities\n    * Available tools\n    * Permission modes\n    * Conditional rules with hooks\n    * Disable specific subagents\n  * Define hooks for subagents\n    * Hooks in subagent frontmatter\n    * Project-level hooks for subagent events\n* Work with subagents\n  * Understand automatic delegation\n  * Run subagents in foreground or background\n  * Common patterns\n    * Isolate high-volume operations\n    * Run parallel research\n    * Chain subagents\n  * Choose between subagents and main conversation\n  * Manage subagent context\n    * Resume subagents\n    * Auto-compaction\n* Example subagents\n  * Code reviewer\n  * Debugger\n  * Data scientist\n  * Database query validator\n* Next steps\n\n### [plugins](https://code.claude.com/docs/en/plugins.md)\n\n* When to use plugins vs standalone configuration\n* Quickstart\n  * Prerequisites\n  * Create your first plugin\n* Hello Command\n* Hello Command\n  * Plugin structure overview\n  * Develop more complex plugins\n    * Add Skills to your plugin\n    * Add LSP servers to your plugin\n    * Organize complex plugins\n    * Test your plugins locally\n    * Debug plugin issues\n    * Share your plugins\n  * Convert existing configurations to plugins\n    * Migration steps\n    * What changes when migrating\n  * Next steps\n    * For plugin users\n    * For plugin developers\n\n### [discover-plugins](https://code.claude.com/docs/en/discover-plugins.md)\n\n* How marketplaces work\n* Official Anthropic marketplace\n  * Code intelligence\n  * External integrations\n  * Development workflows\n  * Output styles\n* Try it: add the demo marketplace\n* Add marketplaces\n  * Add from GitHub\n  * Add from other Git hosts\n  * Add from local paths\n  * Add from remote URLs\n* Install plugins\n* Manage installed plugins\n* Manage marketplaces\n  * Use the interactive interface\n  * Use CLI commands\n  * Configure auto-updates\n* Configure team marketplaces\n* Troubleshooting\n  * /plugin command not recognized\n  * Common issues\n* Next steps\n\n### [skills](https://code.claude.com/docs/en/skills.md)\n\n* Create your first Skill\n* How Skills work\n  * Where Skills live\n  * When to use Skills versus other options\n* Configure Skills\n  * Write SKILL.md\n    * Available metadata fields\n  * Update or delete a Skill\n  * Add supporting files with progressive disclosure\n    * Example: multi-file Skill structure\n  * Restrict tool access with allowed-tools\n  * Run Skills in a forked context\n  * Define hooks for Skills\n  * Control Skill visibility\n    * When to use each setting\n    * Example: model-only Skill\n  * Skills and subagents\n    * Give a subagent access to Skills\n    * Run a Skill in a subagent context\n  * Distribute Skills\n* Examples\n  * Simple Skill (single file)\n  * Use multiple files\n* Troubleshooting\n  * View and test Skills\n  * Skill not triggering\n  * Skill doesn't load\n  * Skill has errors\n  * Multiple Skills conflict\n  * Plugin Skills not appearing\n* Next steps\n\n### [output-styles](https://code.claude.com/docs/en/output-styles.md)\n\n* Built-in output styles\n* How output styles work\n* Change your output style\n* Create a custom output style\n  * Frontmatter\n* Comparisons to related features\n  * Output Styles vs. CLAUDE.md vs. --append-system-prompt\n  * Output Styles vs. [Agents](/en/sub-agents)\n  * Output Styles vs. [Custom Slash Commands](/en/slash-commands)\n\n### [hooks-guide](https://code.claude.com/docs/en/hooks-guide.md)\n\n* Hook Events Overview\n* Quickstart\n  * Prerequisites\n  * Step 1: Open hooks configuration\n  * Step 2: Add a matcher\n  * Step 3: Add the hook\n  * Step 4: Save your configuration\n  * Step 5: Verify your hook\n  * Step 6: Test your hook\n* More Examples\n  * Code Formatting Hook\n  * Markdown Formatting Hook\n  * Custom Notification Hook\n  * File Protection Hook\n* Learn more\n\n### [headless](https://code.claude.com/docs/en/headless.md)\n\n* Basic usage\n* Examples\n  * Get structured output\n  * Auto-approve tools\n  * Create a commit\n  * Customize the system prompt\n  * Continue conversations\n* Next steps\n\n### [mcp](https://code.claude.com/docs/en/mcp.md)\n\n* What you can do with MCP\n* Popular MCP servers\n* Installing MCP servers\n  * Option 1: Add a remote HTTP server\n  * Option 2: Add a remote SSE server\n  * Option 3: Add a local stdio server\n  * Managing your servers\n  * Dynamic tool updates\n  * Plugin-provided MCP servers\n* MCP installation scopes\n  * Local scope\n  * Project scope\n  * User scope\n  * Choosing the right scope\n  * Scope hierarchy and precedence\n  * Environment variable expansion in `.mcp.json`\n* Practical examples\n  * Example: Monitor errors with Sentry\n  * Example: Connect to GitHub for code reviews\n  * Example: Query your PostgreSQL database\n* Authenticate with remote MCP servers\n* Add MCP servers from JSON configuration\n* Import MCP servers from Claude Desktop\n* Use Claude Code as an MCP server\n* MCP output limits and warnings\n* Use MCP resources\n  * Reference MCP resources\n* Use MCP prompts as slash commands\n  * Execute MCP prompts\n* Managed MCP configuration\n  * Option 1: Exclusive control with managed-mcp.json\n  * Option 2: Policy-based control with allowlists and denylists\n    * Restriction options\n    * Example configuration\n    * How command-based restrictions work\n    * How URL-based restrictions work\n    * Allowlist behavior (`allowedMcpServers`)\n    * Denylist behavior (`deniedMcpServers`)\n    * Important notes\n\n### [troubleshooting](https://code.claude.com/docs/en/troubleshooting.md)\n\n* Common installation issues\n  * Windows installation issues: errors in WSL\n  * Linux and Mac installation issues: permission or command not found errors\n    * Recommended solution: Native Claude Code installation\n  * Windows: \"Claude Code on Windows requires git-bash\"\n  * Windows: \"installMethod is native, but claude command not found\"\n* Permissions and authentication\n  * Repeated permission prompts\n  * Authentication issues\n* Configuration file locations\n  * Resetting configuration\n* Performance and stability\n  * High CPU or memory usage\n  * Command hangs or freezes\n  * Search and discovery issues\n  * Slow or incomplete search results on WSL\n* IDE integration issues\n  * JetBrains IDE not detected on WSL2\n    * WSL2 networking modes\n  * Reporting Windows IDE integration issues (both native and WSL)\n  * Escape key not working in JetBrains (IntelliJ, PyCharm, etc.) terminals\n* Markdown formatting issues\n  * Missing language tags in code blocks\n  * Inconsistent spacing and formatting\n  * Best practices for markdown generation\n* Getting more help\n\n## Deployment\n\n### [third-party-integrations](https://code.claude.com/docs/en/third-party-integrations.md)\n\n* Compare deployment options\n* Configure proxies and gateways\n  * Amazon Bedrock\n  * Microsoft Foundry\n  * Google Vertex AI\n* Best practices for organizations\n  * Invest in documentation and memory\n  * Simplify deployment\n  * Start with guided usage\n  * Configure security policies\n  * Leverage MCP for integrations\n* Next steps\n\n### [amazon-bedrock](https://code.claude.com/docs/en/amazon-bedrock.md)\n\n* Prerequisites\n* Setup\n  * 1. Submit use case details\n  * 2. Configure AWS credentials\n    * Advanced credential configuration\n      * Example configuration\n      * Configuration settings explained\n  * 3. Configure Claude Code\n  * 4. Model configuration\n  * 5. Output token configuration\n* IAM configuration\n* Troubleshooting\n* Additional resources\n\n### [google-vertex-ai](https://code.claude.com/docs/en/google-vertex-ai.md)\n\n* Prerequisites\n* Region Configuration\n* Setup\n  * 1. Enable Vertex AI API\n  * 2. Request model access\n  * 3. Configure GCP credentials\n  * 4. Configure Claude Code\n  * 5. Model configuration\n* IAM configuration\n* 1M token context window\n* Troubleshooting\n* Additional resources\n\n### [microsoft-foundry](https://code.claude.com/docs/en/microsoft-foundry.md)\n\n* Prerequisites\n* Setup\n  * 1. Provision Microsoft Foundry resource\n  * 2. Configure Azure credentials\n  * 3. Configure Claude Code\n* Azure RBAC configuration\n* Troubleshooting\n* Additional resources\n\n### [network-config](https://code.claude.com/docs/en/network-config.md)\n\n* Proxy configuration\n  * Environment variables\n  * Basic authentication\n* Custom CA certificates\n* mTLS authentication\n* Network access requirements\n* Additional resources\n\n### [llm-gateway](https://code.claude.com/docs/en/llm-gateway.md)\n\n* Gateway requirements\n* Configuration\n  * Model selection\n* LiteLLM configuration\n  * Prerequisites\n  * Basic LiteLLM setup\n    * Authentication methods\n      * Static API key\n      * Dynamic API key with helper\n    * Unified endpoint (recommended)\n    * Provider-specific pass-through endpoints (alternative)\n      * Claude API through LiteLLM\n      * Amazon Bedrock through LiteLLM\n      * Google Vertex AI through LiteLLM\n* Additional resources\n\n### [devcontainer](https://code.claude.com/docs/en/devcontainer.md)\n\n* Key features\n* Getting started in 4 steps\n* Configuration breakdown\n* Security features\n* Customization options\n* Example use cases\n  * Secure client work\n  * Team onboarding\n  * Consistent CI/CD environments\n* Related resources\n\n### [sandboxing](https://code.claude.com/docs/en/sandboxing.md)\n\n* Overview\n* Why sandboxing matters\n* How it works\n  * Filesystem isolation\n  * Network isolation\n  * OS-level enforcement\n* Getting started\n  * Enable sandboxing\n  * Sandbox modes\n  * Configure sandboxing\n* Security benefits\n  * Protection against prompt injection\n  * Reduced attack surface\n  * Transparent operation\n* Security Limitations\n* Advanced usage\n  * Custom proxy configuration\n  * Integration with existing security tools\n* Best practices\n* Open source\n* Limitations\n* See also\n\n## Administration\n\n### [setup](https://code.claude.com/docs/en/setup.md)\n\n* System requirements\n  * Additional dependencies\n* Installation\n  * Authentication\n    * For individuals\n    * For teams and organizations\n  * Install a specific version\n  * Binary integrity and code signing\n* NPM installation (deprecated)\n* Windows setup\n* Update Claude Code\n  * Auto updates\n  * Configure release channel\n  * Disable auto-updates\n  * Update manually\n* Uninstall Claude Code\n  * Native installation\n  * Homebrew installation\n  * WinGet installation\n  * NPM installation\n  * Clean up configuration files (optional)\n\n### [iam](https://code.claude.com/docs/en/iam.md)\n\n* Authentication methods\n  * Claude for Teams or Enterprise (recommended)\n  * Claude Console authentication\n  * Cloud provider authentication\n* Access control and permissions\n  * Permission system\n  * Configuring permissions\n    * Permission modes\n    * Working directories\n    * Tool-specific permission rules\n  * Additional permission control with hooks\n  * Managed settings\n  * Settings precedence\n* Credential management\n\n### [security](https://code.claude.com/docs/en/security.md)\n\n* How we approach security\n  * Security foundation\n  * Permission-based architecture\n  * Built-in protections\n  * User responsibility\n* Protect against prompt injection\n  * Core protections\n  * Privacy safeguards\n  * Additional safeguards\n* MCP security\n* IDE security\n* Cloud execution security\n* Security best practices\n  * Working with sensitive code\n  * Team security\n  * Reporting security issues\n* Related resources\n\n### [data-usage](https://code.claude.com/docs/en/data-usage.md)\n\n* Data policies\n  * Data training policy\n  * Development Partner Program\n  * Feedback using the `/bug` command\n  * Session quality surveys\n  * Data retention\n* Data access\n* Local Claude Code: Data flow and dependencies\n  * Cloud execution: Data flow and dependencies\n* Telemetry services\n* Default behaviors by API provider\n\n### [monitoring-usage](https://code.claude.com/docs/en/monitoring-usage.md)\n\n* Quick start\n* Administrator configuration\n* Configuration details\n  * Common configuration variables\n  * Metrics cardinality control\n  * Dynamic headers\n    * Settings configuration\n    * Script requirements\n    * Refresh behavior\n  * Multi-team organization support\n  * Example configurations\n* Available metrics and events\n  * Standard attributes\n  * Metrics\n  * Metric details\n    * Session counter\n    * Lines of code counter\n    * Pull request counter\n    * Commit counter\n    * Cost counter\n    * Token counter\n    * Code edit tool decision counter\n    * Active time counter\n  * Events\n    * User prompt event\n    * Tool result event\n    * API request event\n    * API error event\n    * Tool decision event\n* Interpreting metrics and events data\n  * Usage monitoring\n  * Cost monitoring\n  * Alerting and segmentation\n  * Event analysis\n* Backend considerations\n  * For metrics\n  * For events/logs\n* Service information\n* ROI measurement resources\n* Security/privacy considerations\n* Monitoring Claude Code on Amazon Bedrock\n\n### [costs](https://code.claude.com/docs/en/costs.md)\n\n* Track your costs\n  * Using the `/cost` command\n  * Additional tracking options\n* Managing costs for teams\n  * Rate limit recommendations\n* Reduce token usage\n* Background token usage\n* Tracking version changes and updates\n  * Current version information\n  * Understanding changes in Claude Code behavior\n  * When cost reporting changes\n\n### [analytics](https://code.claude.com/docs/en/analytics.md)\n\n* Access analytics\n  * Required roles\n* Available metrics\n  * Lines of code accepted\n  * Suggestion accept rate\n  * Activity\n  * Spend\n  * Team insights\n* Using analytics effectively\n  * Monitor adoption\n  * Measure productivity\n* Related resources\n\n### [plugin-marketplaces](https://code.claude.com/docs/en/plugin-marketplaces.md)\n\n* Overview\n* Walkthrough: create a local marketplace\n* Create the marketplace file\n* Marketplace schema\n  * Required fields\n  * Owner fields\n  * Optional metadata\n* Plugin entries\n  * Required fields\n  * Optional plugin fields\n* Plugin sources\n  * Relative paths\n  * GitHub repositories\n  * Git repositories\n  * Advanced plugin entries\n* Host and distribute marketplaces\n  * Host on GitHub (recommended)\n  * Host on other git services\n  * Private repositories\n  * Test locally before distribution\n  * Require marketplaces for your team\n  * Managed marketplace restrictions\n    * Common configurations\n    * How restrictions work\n* Validation and testing\n* Troubleshooting\n  * Marketplace not loading\n  * Marketplace validation errors\n  * Plugin installation failures\n  * Private repository authentication fails\n  * Plugins with relative paths fail in URL-based marketplaces\n  * Files not found after installation\n* See also\n\n## Configuration\n\n### [settings](https://code.claude.com/docs/en/settings.md)\n\n* Configuration scopes\n  * Available scopes\n  * When to use each scope\n  * How scopes interact\n  * What uses scopes\n* Settings files\n  * Available settings\n  * Permission settings\n  * Sandbox settings\n  * Attribution settings\n  * File suggestion settings\n  * Hook configuration\n  * Settings precedence\n  * Key points about the configuration system\n  * System prompt\n  * Excluding sensitive files\n* Subagent configuration\n* Plugin configuration\n  * Plugin settings\n    * `enabledPlugins`\n    * `extraKnownMarketplaces`\n    * `strictKnownMarketplaces`\n  * Managing plugins\n* Environment variables\n* Tools available to Claude\n  * Bash tool behavior\n  * Extending tools with hooks\n* See also\n\n### [terminal-config](https://code.claude.com/docs/en/terminal-config.md)\n\n* Themes and appearance\n* Line breaks\n* Notification setup\n  * iTerm 2 system notifications\n  * Custom notification hooks\n* Handling large inputs\n* Vim Mode\n\n### [model-config](https://code.claude.com/docs/en/model-config.md)\n\n* Available models\n  * Model aliases\n  * Setting your model\n* Special model behavior\n  * `default` model setting\n  * `opusplan` model setting\n  * Extended context with \\[1m]\n* Checking your current model\n* Environment variables\n  * Prompt caching configuration\n\n### [memory](https://code.claude.com/docs/en/memory.md)\n\n* Determine memory type\n* CLAUDE.md imports\n* How Claude looks up memories\n* Directly edit memories with `/memory`\n* Set up project memory\n* Modular rules with `.claude/rules/`\n  * Basic structure\n  * Path-specific rules\n  * Glob patterns\n  * Subdirectories\n  * Symlinks\n  * User-level rules\n* Organization-level memory management\n* Memory best practices\n\n### [statusline](https://code.claude.com/docs/en/statusline.md)\n\n* Create a custom status line\n* How it Works\n* JSON Input Structure\n* Example Scripts\n  * Simple Status Line\n  * Git-Aware Status Line\n  * Python Example\n  * Node.js Example\n  * Helper Function Approach\n  * Context Window Usage\n* Tips\n* Troubleshooting\n\n## Reference\n\n### [cli-reference](https://code.claude.com/docs/en/cli-reference.md)\n\n* CLI commands\n* CLI flags\n  * Agents flag format\n  * System prompt flags\n* See also\n\n### [interactive-mode](https://code.claude.com/docs/en/interactive-mode.md)\n\n* Keyboard shortcuts\n  * General controls\n  * Text editing\n  * Theme and display\n  * Multiline input\n  * Quick commands\n* Vim editor mode\n  * Mode switching\n  * Navigation (NORMAL mode)\n  * Editing (NORMAL mode)\n  * Text objects (NORMAL mode)\n* Command history\n  * Reverse search with Ctrl+R\n* Background bash commands\n  * How backgrounding works\n  * Bash mode with `!` prefix\n* See also\n\n### [slash-commands](https://code.claude.com/docs/en/slash-commands.md)\n\n* Built-in slash commands\n* Custom slash commands\n  * Syntax\n    * Parameters\n  * Command types\n    * Project commands\n    * Personal commands\n  * Features\n    * Namespacing\n    * Arguments\n      * All arguments with `$ARGUMENTS`\n      * Individual arguments with `$1`, `$2`, etc.\n    * Bash command execution\n    * File references\n    * Thinking mode\n  * Frontmatter\n    * Define hooks for commands\n* Plugin commands\n  * How plugin commands work\n  * Plugin command structure\n  * Invocation patterns\n* MCP slash commands\n  * Command format\n  * Features\n    * Dynamic discovery\n    * Arguments\n    * Naming conventions\n  * Managing MCP connections\n  * MCP permissions and wildcards\n* `Skill` tool\n  * What the `Skill` tool can invoke\n  * Encourage Claude to use specific commands\n  * Disable the `Skill` tool\n  * Disable specific commands or Skills\n  * `Skill` permission rules\n  * Character budget limit\n* Skills vs slash commands\n  * Use slash commands for\n  * Use Skills for\n  * Key differences\n  * Example comparison\n  * When to use each\n* See also\n\n### [checkpointing](https://code.claude.com/docs/en/checkpointing.md)\n\n* How checkpoints work\n  * Automatic tracking\n  * Rewinding changes\n* Common use cases\n* Limitations\n  * Bash command changes not tracked\n  * External changes not tracked\n  * Not a replacement for version control\n* See also\n\n### [hooks](https://code.claude.com/docs/en/hooks.md)\n\n* Configuration\n  * Structure\n  * Project-Specific Hook Scripts\n  * Plugin hooks\n  * Hooks in Skills, Agents, and Slash Commands\n* Prompt-Based Hooks\n  * How prompt-based hooks work\n  * Configuration\n  * Response schema\n  * Supported hook events\n  * Example: Intelligent Stop hook\n  * Example: SubagentStop with custom logic\n  * Comparison with bash command hooks\n  * Best practices\n* Hook Events\n  * PreToolUse\n  * PermissionRequest\n  * PostToolUse\n  * Notification\n  * UserPromptSubmit\n  * Stop\n  * SubagentStop\n  * PreCompact\n  * SessionStart\n    * Persisting environment variables\n  * SessionEnd\n* Hook Input\n  * PreToolUse Input\n    * Bash tool\n    * Write tool\n    * Edit tool\n    * Read tool\n  * PostToolUse Input\n  * Notification Input\n  * UserPromptSubmit Input\n  * Stop and SubagentStop Input\n  * PreCompact Input\n  * SessionStart Input\n  * SessionEnd Input\n* Hook Output\n  * Simple: Exit Code\n    * Exit Code 2 Behavior\n  * Advanced: JSON Output\n    * Common JSON Fields\n    * `PreToolUse` Decision Control\n    * `PermissionRequest` Decision Control\n    * `PostToolUse` Decision Control\n    * `UserPromptSubmit` Decision Control\n    * `Stop`/`SubagentStop` Decision Control\n    * `SessionStart` Decision Control\n    * `SessionEnd` Decision Control\n    * Exit Code Example: Bash Command Validation\n    * JSON Output Example: UserPromptSubmit to Add Context and Validation\n    * JSON Output Example: PreToolUse with Approval\n* Working with MCP Tools\n  * MCP Tool Naming\n  * Configuring Hooks for MCP Tools\n* Examples\n* Security Considerations\n  * Disclaimer\n  * Security Best Practices\n  * Configuration Safety\n* Hook Execution Details\n* Debugging\n  * Basic Troubleshooting\n  * Advanced Debugging\n  * Debug Output Example\n\n### [plugins-reference](https://code.claude.com/docs/en/plugins-reference.md)\n\n* Plugin components reference\n  * Commands\n  * Agents\n  * Skills\n  * Hooks\n  * MCP servers\n  * LSP servers\n* Plugin installation scopes\n* Plugin manifest schema\n  * Complete schema\n  * Required fields\n  * Metadata fields\n  * Component path fields\n  * Path behavior rules\n  * Environment variables\n* Plugin caching and file resolution\n  * How plugin caching works\n  * Path traversal limitations\n  * Working with external dependencies\n* Plugin directory structure\n  * Standard plugin layout\n  * File locations reference\n* CLI commands reference\n  * plugin install\n  * plugin uninstall\n  * plugin enable\n  * plugin disable\n  * plugin update\n* Debugging and development tools\n  * Debugging commands\n  * Common issues\n  * Example error messages\n  * Hook troubleshooting\n  * MCP server troubleshooting\n  * Directory structure mistakes\n* Distribution and versioning reference\n  * Version management\n* See also\n\n## Resources\n\n### [legal-and-compliance](https://code.claude.com/docs/en/legal-and-compliance.md)\n\n* Legal agreements\n  * License\n  * Commercial agreements\n* Compliance\n  * Healthcare compliance (BAA)\n* Security and trust\n  * Trust and safety\n  * Security vulnerability reporting\n\n\n---\n\n> To find navigation and other pages in this documentation, fetch the llms.txt file at: https://code.claude.com/docs/llms.txt","durationMs":1,"url":"https://code.claude.com/docs/en/claude_code_docs_map.md"},"sourceToolAssistantUUID":"a42817fe-f4e4-4107-a905-e87745ec1aae"}
{"parentUuid":"293a57ea-5efa-46ed-8952-f7d4e5768f77","isSidechain":true,"userType":"external","cwd":"/Users/liuhanwen/Desktop/project/webtech-monorepo/packages","sessionId":"46130ba2-b7ed-45e0-88b6-475c365b9d80","version":"2.1.12","gitBranch":"vor-27075","agentId":"a23c139","slug":"streamed-hatching-codd","type":"progress","data":{"type":"query_update","query":"Claude Code LSP Language Server Protocol integration 2026"},"toolUseID":"search-progress-1","parentToolUseID":"toolu_01Mwpr5SFpoxc7DjJJ57NymK","uuid":"fb89105a-ac6a-4784-9ee7-37f7a28b26fc","timestamp":"2026-01-18T07:13:06.581Z"}
{"parentUuid":"fb89105a-ac6a-4784-9ee7-37f7a28b26fc","isSidechain":true,"userType":"external","cwd":"/Users/liuhanwen/Desktop/project/webtech-monorepo/packages","sessionId":"46130ba2-b7ed-45e0-88b6-475c365b9d80","version":"2.1.12","gitBranch":"vor-27075","agentId":"a23c139","slug":"streamed-hatching-codd","type":"progress","data":{"type":"search_results_received","resultCount":10,"query":"Claude Code LSP Language Server Protocol integration 2026"},"toolUseID":"srvtoolu_01NBzEDrK8pdKqxvYuURXgnf","parentToolUseID":"toolu_01Mwpr5SFpoxc7DjJJ57NymK","uuid":"d94183c8-5af7-41e7-9cdf-6b2d9502700b","timestamp":"2026-01-18T07:13:08.786Z"}
{"parentUuid":"477548ba-9aa6-4317-9885-c6b29d8a0dab","isSidechain":true,"userType":"external","cwd":"/Users/liuhanwen/Desktop/project/webtech-monorepo/packages","sessionId":"46130ba2-b7ed-45e0-88b6-475c365b9d80","version":"2.1.12","gitBranch":"vor-27075","agentId":"a23c139","slug":"streamed-hatching-codd","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01Mwpr5SFpoxc7DjJJ57NymK","type":"tool_result","content":"Web search results for query: \"Claude Code LSP Language Server Protocol integration 2026\"\n\nLinks: [{\"title\":\"Claude Code gets native LSP support | Hacker News\",\"url\":\"https://news.ycombinator.com/item?id=46355165\"},{\"title\":\"Claude Code LSP: Complete Setup Guide for All 11 Languages (2025) - Language Server Protocol Integration for Claude Code | AI Free API\",\"url\":\"https://www.aifreeapi.com/en/posts/claude-code-lsp\"},{\"title\":\"How Im Using (New) Claude Code LSP to Code & Fix Bugs Faster (Language Server Protocol) | by Joe Njenga | Dec, 2025 | Medium\",\"url\":\"https://medium.com/@joe.njenga/how-im-using-new-claude-code-lsp-to-code-fix-bugs-faster-language-server-protocol-cf744d228d02\"},{\"title\":\"Claude Code Sees Like A Software Architect\",\"url\":\"https://davegriffith.substack.com/p/claude-code-sees-like-a-software\"},{\"title\":\"GitHub - ktnyt/cclsp: Claude Code LSP: enhance your Claude Code experience with non-IDE dependent LSP integration.\",\"url\":\"https://github.com/ktnyt/cclsp\"},{\"title\":\"GitHub - Piebald-AI/claude-code-lsps: Claude Code Plugin Marketplace with LSP servers\",\"url\":\"https://github.com/Piebald-AI/claude-code-lsps\"},{\"title\":\"Discover and install prebuilt plugins through marketplaces - Claude Code Docs\",\"url\":\"https://code.claude.com/docs/en/discover-plugins\"},{\"title\":\"Jos Valim on X: \\\"Claude Code now supports LSP (Language Server Protocols) and while this will be handy for diagnostics, most LSP APIs are awkward for agentic usage because they require passing file:line:column, you can't simply ask \\\"tell me where Foo#bar is defined\\\". Of course, there are some\\\" / X\",\"url\":\"https://x.com/josevalim/status/2002312493713015160\"},{\"title\":\"LSP Integration Guide for Claude Code on Windows (cclsp + pylsp)  GitHub\",\"url\":\"https://gist.github.com/stanicio/7b64a1f7f947b4d8f87d774e5baae0c0\"},{\"title\":\"Claude Code Just Got The Ultimate Dev Shortcut (LSP Explained)\",\"url\":\"https://lilys.ai/en/notes/claude-code-20260113/claude-code-lsp-ultimate-shortcut\"}]\n\nBased on the search results, here's what I found about Claude Code's LSP Language Server Protocol integration in 2026:\n\n## Recent LSP Integration Launch\n\nClaude Code released LSP support in December 2025 with version 2.0.74, supporting 11 programming languages: Python, TypeScript, Go, Rust, Java, C/C++, C#, PHP, Kotlin, Ruby, and HTML/CSS.\n\n## Key Capabilities and Benefits\n\nThe LSP feature brings Language Server Protocol support to Claude Code, enabling IDE-like code intelligence including go-to-definition, find references, and real-time diagnostics.(no content)With LSP enabled, Claude Code navigates codebases in 50ms instead of 45 seconds using traditional text search, fundamentally transforming how developers interact with AI coding assistants.\n\n## Setup and Configuration\n\nGetting Claude Code LSP running requires three straightforward steps: enabling the LSP tool, adding a plugin marketplace, and installing your first language plugin, with most developers completing this process in under five minutes.(no content)The LSP feature requires explicit enablement through an environment variable (ENABLE_LSP_TOOL=1).\n\n## Current Status\n\nSupport for LSP in Claude Code is still raw, with bugs in different LSP operations, no documentation, and no UI indication that LSP servers are started or running. However, community tools and plugins have emerged to enhance the integration and make it more usable across different development environments.\n\n\nREMINDER: You MUST include the sources above in your response to the user using markdown hyperlinks."}]},"uuid":"dacea42f-3fe4-4c29-ace5-17122533eba8","timestamp":"2026-01-18T07:13:13.240Z","toolUseResult":{"query":"Claude Code LSP Language Server Protocol integration 2026","results":[{"tool_use_id":"srvtoolu_01NBzEDrK8pdKqxvYuURXgnf","content":[{"title":"Claude Code gets native LSP support | Hacker News","url":"https://news.ycombinator.com/item?id=46355165"},{"title":"Claude Code LSP: Complete Setup Guide for All 11 Languages (2025) - Language Server Protocol Integration for Claude Code | AI Free API","url":"https://www.aifreeapi.com/en/posts/claude-code-lsp"},{"title":"How Im Using (New) Claude Code LSP to Code & Fix Bugs Faster (Language Server Protocol) | by Joe Njenga | Dec, 2025 | Medium","url":"https://medium.com/@joe.njenga/how-im-using-new-claude-code-lsp-to-code-fix-bugs-faster-language-server-protocol-cf744d228d02"},{"title":"Claude Code Sees Like A Software Architect","url":"https://davegriffith.substack.com/p/claude-code-sees-like-a-software"},{"title":"GitHub - ktnyt/cclsp: Claude Code LSP: enhance your Claude Code experience with non-IDE dependent LSP integration.","url":"https://github.com/ktnyt/cclsp"},{"title":"GitHub - Piebald-AI/claude-code-lsps: Claude Code Plugin Marketplace with LSP servers","url":"https://github.com/Piebald-AI/claude-code-lsps"},{"title":"Discover and install prebuilt plugins through marketplaces - Claude Code Docs","url":"https://code.claude.com/docs/en/discover-plugins"},{"title":"Jos Valim on X: \"Claude Code now supports LSP (Language Server Protocols) and while this will be handy for diagnostics, most LSP APIs are awkward for agentic usage because they require passing file:line:column, you can't simply ask \"tell me where Foo#bar is defined\". Of course, there are some\" / X","url":"https://x.com/josevalim/status/2002312493713015160"},{"title":"LSP Integration Guide for Claude Code on Windows (cclsp + pylsp)  GitHub","url":"https://gist.github.com/stanicio/7b64a1f7f947b4d8f87d774e5baae0c0"},{"title":"Claude Code Just Got The Ultimate Dev Shortcut (LSP Explained)","url":"https://lilys.ai/en/notes/claude-code-20260113/claude-code-lsp-ultimate-shortcut"}]},"Based on the search results, here's what I found about Claude Code's LSP Language Server Protocol integration in 2026:\n\n## Recent LSP Integration Launch\n\nClaude Code released LSP support in December 2025 with version 2.0.74, supporting 11 programming languages: Python, TypeScript, Go, Rust, Java, C/C++, C#, PHP, Kotlin, Ruby, and HTML/CSS.\n\n## Key Capabilities and Benefits\n\nThe LSP feature brings Language Server Protocol support to Claude Code, enabling IDE-like code intelligence including go-to-definition, find references, and real-time diagnostics.(no content)With LSP enabled, Claude Code navigates codebases in 50ms instead of 45 seconds using traditional text search, fundamentally transforming how developers interact with AI coding assistants.\n\n## Setup and Configuration\n\nGetting Claude Code LSP running requires three straightforward steps: enabling the LSP tool, adding a plugin marketplace, and installing your first language plugin, with most developers completing this process in under five minutes.(no content)The LSP feature requires explicit enablement through an environment variable (ENABLE_LSP_TOOL=1).\n\n## Current Status\n\nSupport for LSP in Claude Code is still raw, with bugs in different LSP operations, no documentation, and no UI indication that LSP servers are started or running. However, community tools and plugins have emerged to enhance the integration and make it more usable across different development environments."],"durationSeconds":8.883453875000006},"sourceToolAssistantUUID":"477548ba-9aa6-4317-9885-c6b29d8a0dab"}
{"parentUuid":"dacea42f-3fe4-4c29-ace5-17122533eba8","isSidechain":true,"userType":"external","cwd":"/Users/liuhanwen/Desktop/project/webtech-monorepo/packages","sessionId":"46130ba2-b7ed-45e0-88b6-475c365b9d80","version":"2.1.12","gitBranch":"vor-27075","agentId":"a23c139","slug":"streamed-hatching-codd","message":{"model":"claude-haiku-4-5-20251001","id":"msg_014d4i89Exi1y9Vheh6DSmaB","type":"message","role":"assistant","content":[{"type":"text","text":"Let me fetch the specific LSP documentation from Claude Code to get more details."}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":7,"cache_creation_input_tokens":9278,"cache_read_input_tokens":7412,"cache_creation":{"ephemeral_5m_input_tokens":9278,"ephemeral_1h_input_tokens":0},"output_tokens":3,"service_tier":"standard"}},"requestId":"req_011CXERqoLM9VRUwfvfQzGK2","type":"assistant","uuid":"8baabf5d-54a1-4d8a-8c29-16c8871654dd","timestamp":"2026-01-18T07:13:14.848Z"}
{"parentUuid":"8baabf5d-54a1-4d8a-8c29-16c8871654dd","isSidechain":true,"userType":"external","cwd":"/Users/liuhanwen/Desktop/project/webtech-monorepo/packages","sessionId":"46130ba2-b7ed-45e0-88b6-475c365b9d80","version":"2.1.12","gitBranch":"vor-27075","agentId":"a23c139","slug":"streamed-hatching-codd","message":{"model":"claude-haiku-4-5-20251001","id":"msg_014d4i89Exi1y9Vheh6DSmaB","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_011Rq5CBXpjPWega1jqGA1Z8","name":"WebFetch","input":{"url":"https://code.claude.com/docs/en/plugins-reference.md","prompt":"LSP servers configuration language server protocol"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":7,"cache_creation_input_tokens":9278,"cache_read_input_tokens":7412,"cache_creation":{"ephemeral_5m_input_tokens":9278,"ephemeral_1h_input_tokens":0},"output_tokens":3,"service_tier":"standard"}},"requestId":"req_011CXERqoLM9VRUwfvfQzGK2","type":"assistant","uuid":"a0b0f90f-f728-4eb9-87c5-f5b34b38e9fd","timestamp":"2026-01-18T07:13:15.536Z"}
{"parentUuid":"a0b0f90f-f728-4eb9-87c5-f5b34b38e9fd","isSidechain":true,"userType":"external","cwd":"/Users/liuhanwen/Desktop/project/webtech-monorepo/packages","sessionId":"46130ba2-b7ed-45e0-88b6-475c365b9d80","version":"2.1.12","gitBranch":"vor-27075","agentId":"a23c139","slug":"streamed-hatching-codd","message":{"model":"claude-haiku-4-5-20251001","id":"msg_014d4i89Exi1y9Vheh6DSmaB","type":"message","role":"assistant","content":[{"type":"tool_use","id":"toolu_01SFLH2qffrh6FiA4rEpaa7u","name":"WebFetch","input":{"url":"https://code.claude.com/docs/en/plugins.md","prompt":"LSP servers language server protocol"}}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":7,"cache_creation_input_tokens":9278,"cache_read_input_tokens":7412,"cache_creation":{"ephemeral_5m_input_tokens":9278,"ephemeral_1h_input_tokens":0},"output_tokens":3,"service_tier":"standard"}},"requestId":"req_011CXERqoLM9VRUwfvfQzGK2","type":"assistant","uuid":"fbb018b9-f062-4c42-a480-9ec652b679d3","timestamp":"2026-01-18T07:13:15.764Z"}
{"parentUuid":"fbb018b9-f062-4c42-a480-9ec652b679d3","isSidechain":true,"userType":"external","cwd":"/Users/liuhanwen/Desktop/project/webtech-monorepo/packages","sessionId":"46130ba2-b7ed-45e0-88b6-475c365b9d80","version":"2.1.12","gitBranch":"vor-27075","agentId":"a23c139","slug":"streamed-hatching-codd","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_01SFLH2qffrh6FiA4rEpaa7u","type":"tool_result","content":"# Create plugins\n\n> Create custom plugins to extend Claude Code with slash commands, agents, hooks, Skills, and MCP servers.\n\nPlugins let you extend Claude Code with custom functionality that can be shared across projects and teams. This guide covers creating your own plugins with slash commands, agents, Skills, hooks, and MCP servers.\n\nLooking to install existing plugins? See [Discover and install plugins](/en/discover-plugins). For complete technical specifications, see [Plugins reference](/en/plugins-reference).\n\n## When to use plugins vs standalone configuration\n\nClaude Code supports two ways to add custom slash commands, agents, and hooks:\n\n| Approach                                                    | Slash command names  | Best for                                                                                        |\n| :---------------------------------------------------------- | :------------------- | :---------------------------------------------------------------------------------------------- |\n| **Standalone** (`.claude/` directory)                       | `/hello`             | Personal workflows, project-specific customizations, quick experiments                          |\n| **Plugins** (directories with `.claude-plugin/plugin.json`) | `/plugin-name:hello` | Sharing with teammates, distributing to community, versioned releases, reusable across projects |\n\n**Use standalone configuration when**:\n\n* You're customizing Claude Code for a single project\n* The configuration is personal and doesn't need to be shared\n* You're experimenting with slash commands or hooks before packaging them\n* You want short slash command names like `/hello` or `/review`\n\n**Use plugins when**:\n\n* You want to share functionality with your team or community\n* You need the same slash commands/agents across multiple projects\n* You want version control and easy updates for your extensions\n* You're distributing through a marketplace\n* You're okay with namespaced slash commands like `/my-plugin:hello` (namespacing prevents conflicts between plugins)\n\n<Tip>\n  Start with standalone configuration in `.claude/` for quick iteration, then [convert to a plugin](#convert-existing-configurations-to-plugins) when you're ready to share.\n</Tip>\n\n## Quickstart\n\nThis quickstart walks you through creating a plugin with a custom slash command. You'll create a manifest (the configuration file that defines your plugin), add a slash command, and test it locally using the `--plugin-dir` flag.\n\n### Prerequisites\n\n* Claude Code [installed and authenticated](/en/quickstart#step-1-install-claude-code)\n* Claude Code version 1.0.33 or later (run `claude --version` to check)\n\n<Note>\n  If you don't see the `/plugin` command, update Claude Code to the latest version. See [Troubleshooting](/en/troubleshooting) for upgrade instructions.\n</Note>\n\n### Create your first plugin\n\n<Steps>\n  <Step title=\"Create the plugin directory\">\n    Every plugin lives in its own directory containing a manifest and your custom commands, agents, or hooks. Create one now:\n\n    ```bash  theme={null}\n    mkdir my-first-plugin\n    ```\n  </Step>\n\n  <Step title=\"Create the plugin manifest\">\n    The manifest file at `.claude-plugin/plugin.json` defines your plugin's identity: its name, description, and version. Claude Code uses this metadata to display your plugin in the plugin manager.\n\n    Create the `.claude-plugin` directory inside your plugin folder:\n\n    ```bash  theme={null}\n    mkdir my-first-plugin/.claude-plugin\n    ```\n\n    Then create `my-first-plugin/.claude-plugin/plugin.json` with this content:\n\n    ```json my-first-plugin/.claude-plugin/plugin.json theme={null}\n    {\n    \"name\": \"my-first-plugin\",\n    \"description\": \"A greeting plugin to learn the basics\",\n    \"version\": \"1.0.0\",\n    \"author\": {\n    \"name\": \"Your Name\"\n    }\n    }\n    ```\n\n    | Field         | Purpose                                                                                                                |\n    | :------------ | :--------------------------------------------------------------------------------------------------------------------- |\n    | `name`        | Unique identifier and slash command namespace. Slash commands are prefixed with this (e.g., `/my-first-plugin:hello`). |\n    | `description` | Shown in the plugin manager when browsing or installing plugins.                                                       |\n    | `version`     | Track releases using [semantic versioning](/en/plugins-reference#version-management).                                  |\n    | `author`      | Optional. Helpful for attribution.                                                                                     |\n\n    For additional fields like `homepage`, `repository`, and `license`, see the [full manifest schema](/en/plugins-reference#plugin-manifest-schema).\n  </Step>\n\n  <Step title=\"Add a slash command\">\n    Slash commands are Markdown files in the `commands/` directory. The filename becomes the slash command name, prefixed with the plugin's namespace (`hello.md` in a plugin named `my-first-plugin` creates `/my-first-plugin:hello`). The Markdown content tells Claude how to respond when someone runs the slash command.\n\n    Create a `commands` directory in your plugin folder:\n\n    ```bash  theme={null}\n    mkdir my-first-plugin/commands\n    ```\n\n    Then create `my-first-plugin/commands/hello.md` with this content:\n\n    ```markdown my-first-plugin/commands/hello.md theme={null}\n    ---\n    description: Greet the user with a friendly message\n    ---\n\n    # Hello Command\n\n    Greet the user warmly and ask how you can help them today.\n    ```\n  </Step>\n\n  <Step title=\"Test your plugin\">\n    Run Claude Code with the `--plugin-dir` flag to load your plugin:\n\n    ```bash  theme={null}\n    claude --plugin-dir ./my-first-plugin\n    ```\n\n    Once Claude Code starts, try your new command:\n\n    ```shell  theme={null}\n    /my-first-plugin:hello\n    ```\n\n    You'll see Claude respond with a greeting. Run `/help` to see your command listed under the plugin namespace.\n\n    <Note>\n      **Why namespacing?** Plugin slash commands are always namespaced (like `/greet:hello`) to prevent conflicts when multiple plugins have commands with the same name.\n\n      To change the namespace prefix, update the `name` field in `plugin.json`.\n    </Note>\n  </Step>\n\n  <Step title=\"Add slash command arguments\">\n    Make your slash command dynamic by accepting user input. The `$ARGUMENTS` placeholder captures any text the user provides after the slash command.\n\n    Update your `hello.md` file:\n\n    ```markdown my-first-plugin/commands/hello.md theme={null}\n    ---\n    description: Greet the user with a personalized message\n    ---\n\n    # Hello Command\n\n    Greet the user named \"$ARGUMENTS\" warmly and ask how you can help them today. Make the greeting personal and encouraging.\n    ```\n\n    Restart Claude Code to pick up the changes, then try the command with your name:\n\n    ```shell  theme={null}\n    /my-first-plugin:hello Alex\n    ```\n\n    Claude will greet you by name. For more argument options like `$1`, `$2` for individual parameters, see [Slash commands](/en/slash-commands).\n  </Step>\n</Steps>\n\nYou've successfully created and tested a plugin with these key components:\n\n* **Plugin manifest** (`.claude-plugin/plugin.json`): describes your plugin's metadata\n* **Commands directory** (`commands/`): contains your custom slash commands\n* **Command arguments** (`$ARGUMENTS`): captures user input for dynamic behavior\n\n<Tip>\n  The `--plugin-dir` flag is useful for development and testing. When you're ready to share your plugin with others, see [Create and distribute a plugin marketplace](/en/plugin-marketplaces).\n</Tip>\n\n## Plugin structure overview\n\nYou've created a plugin with a slash command, but plugins can include much more: custom agents, Skills, hooks, MCP servers, and LSP servers.\n\n<Warning>\n  **Common mistake**: Don't put `commands/`, `agents/`, `skills/`, or `hooks/` inside the `.claude-plugin/` directory. Only `plugin.json` goes inside `.claude-plugin/`. All other directories must be at the plugin root level.\n</Warning>\n\n| Directory         | Location    | Purpose                                         |\n| :---------------- | :---------- | :---------------------------------------------- |\n| `.claude-plugin/` | Plugin root | Contains only `plugin.json` manifest (required) |\n| `commands/`       | Plugin root | Slash commands as Markdown files                |\n| `agents/`         | Plugin root | Custom agent definitions                        |\n| `skills/`         | Plugin root | Agent Skills with `SKILL.md` files              |\n| `hooks/`          | Plugin root | Event handlers in `hooks.json`                  |\n| `.mcp.json`       | Plugin root | MCP server configurations                       |\n| `.lsp.json`       | Plugin root | LSP server configurations for code intelligence |\n\n<Note>\n  **Next steps**: Ready to add more features? Jump to [Develop more complex plugins](#develop-more-complex-plugins) to add agents, hooks, MCP servers, and LSP servers. For complete technical specifications of all plugin components, see [Plugins reference](/en/plugins-reference).\n</Note>\n\n## Develop more complex plugins\n\nOnce you're comfortable with basic plugins, you can create more sophisticated extensions.\n\n### Add Skills to your plugin\n\nPlugins can include [Agent Skills](/en/skills) to extend Claude's capabilities. Skills are model-invoked: Claude automatically uses them based on the task context.\n\nAdd a `skills/` directory at your plugin root with Skill folders containing `SKILL.md` files:\n\n```\nmy-plugin/\n .claude-plugin/\n    plugin.json\n skills/\n     code-review/\n         SKILL.md\n```\n\nEach `SKILL.md` needs frontmatter with `name` and `description` fields, followed by instructions:\n\n```yaml  theme={null}\n---\nname: code-review\ndescription: Reviews code for best practices and potential issues. Use when reviewing code, checking PRs, or analyzing code quality.\n---\n\nWhen reviewing code, check for:\n1. Code organization and structure\n2. Error handling\n3. Security concerns\n4. Test coverage\n```\n\nAfter installing the plugin, restart Claude Code to load the Skills. For complete Skill authoring guidance including progressive disclosure and tool restrictions, see [Agent Skills](/en/skills).\n\n### Add LSP servers to your plugin\n\n<Tip>\n  For common languages like TypeScript, Python, and Rust, install the pre-built LSP plugins from the official marketplace. Create custom LSP plugins only when you need support for languages not already covered.\n</Tip>\n\nLSP (Language Server Protocol) plugins give Claude real-time code intelligence. If you need to support a language that doesn't have an official LSP plugin, you can create your own by adding an `.lsp.json` file to your plugin:\n\n```json .lsp.json theme={null}\n{\n  \"go\": {\n    \"command\": \"gopls\",\n    \"args\": [\"serve\"],\n    \"extensionToLanguage\": {\n      \".go\": \"go\"\n    }\n  }\n}\n```\n\nUsers installing your plugin must have the language server binary installed on their machine.\n\nFor complete LSP configuration options, see [LSP servers](/en/plugins-reference#lsp-servers).\n\n### Organize complex plugins\n\nFor plugins with many components, organize your directory structure by functionality. For complete directory layouts and organization patterns, see [Plugin directory structure](/en/plugins-reference#plugin-directory-structure).\n\n### Test your plugins locally\n\nUse the `--plugin-dir` flag to test plugins during development. This loads your plugin directly without requiring installation.\n\n```bash  theme={null}\nclaude --plugin-dir ./my-plugin\n```\n\nAs you make changes to your plugin, restart Claude Code to pick up the updates. Test your plugin components:\n\n* Try your commands with `/command-name`\n* Check that agents appear in `/agents`\n* Verify hooks work as expected\n\n<Tip>\n  You can load multiple plugins at once by specifying the flag multiple times:\n\n  ```bash  theme={null}\n  claude --plugin-dir ./plugin-one --plugin-dir ./plugin-two\n  ```\n</Tip>\n\n### Debug plugin issues\n\nIf your plugin isn't working as expected:\n\n1. **Check the structure**: Ensure your directories are at the plugin root, not inside `.claude-plugin/`\n2. **Test components individually**: Check each command, agent, and hook separately\n3. **Use validation and debugging tools**: See [Debugging and development tools](/en/plugins-reference#debugging-and-development-tools) for CLI commands and troubleshooting techniques\n\n### Share your plugins\n\nWhen your plugin is ready to share:\n\n1. **Add documentation**: Include a `README.md` with installation and usage instructions\n2. **Version your plugin**: Use [semantic versioning](/en/plugins-reference#version-management) in your `plugin.json`\n3. **Create or use a marketplace**: Distribute through [plugin marketplaces](/en/plugin-marketplaces) for installation\n4. **Test with others**: Have team members test the plugin before wider distribution\n\nOnce your plugin is in a marketplace, others can install it using the instructions in [Discover and install plugins](/en/discover-plugins).\n\n<Note>\n  For complete technical specifications, debugging techniques, and distribution strategies, see [Plugins reference](/en/plugins-reference).\n</Note>\n\n## Convert existing configurations to plugins\n\nIf you already have custom commands, Skills, or hooks in your `.claude/` directory, you can convert them into a plugin for easier sharing and distribution.\n\n### Migration steps\n\n<Steps>\n  <Step title=\"Create the plugin structure\">\n    Create a new plugin directory:\n\n    ```bash  theme={null}\n    mkdir -p my-plugin/.claude-plugin\n    ```\n\n    Create the manifest file at `my-plugin/.claude-plugin/plugin.json`:\n\n    ```json my-plugin/.claude-plugin/plugin.json theme={null}\n    {\n      \"name\": \"my-plugin\",\n      \"description\": \"Migrated from standalone configuration\",\n      \"version\": \"1.0.0\"\n    }\n    ```\n  </Step>\n\n  <Step title=\"Copy your existing files\">\n    Copy your existing configurations to the plugin directory:\n\n    ```bash  theme={null}\n    # Copy commands\n    cp -r .claude/commands my-plugin/\n\n    # Copy agents (if any)\n    cp -r .claude/agents my-plugin/\n\n    # Copy skills (if any)\n    cp -r .claude/skills my-plugin/\n    ```\n  </Step>\n\n  <Step title=\"Migrate hooks\">\n    If you have hooks in your settings, create a hooks directory:\n\n    ```bash  theme={null}\n    mkdir my-plugin/hooks\n    ```\n\n    Create `my-plugin/hooks/hooks.json` with your hooks configuration. Copy the `hooks` object from your `.claude/settings.json` or `settings.local.json`the format is the same:\n\n    ```json my-plugin/hooks/hooks.json theme={null}\n    {\n      \"hooks\": {\n        \"PostToolUse\": [\n          {\n            \"matcher\": \"Write|Edit\",\n            \"hooks\": [{ \"type\": \"command\", \"command\": \"npm run lint:fix $FILE\" }]\n          }\n        ]\n      }\n    }\n    ```\n  </Step>\n\n  <Step title=\"Test your migrated plugin\">\n    Load your plugin to verify everything works:\n\n    ```bash  theme={null}\n    claude --plugin-dir ./my-plugin\n    ```\n\n    Test each component: run your commands, check agents appear in `/agents`, and verify hooks trigger correctly.\n  </Step>\n</Steps>\n\n### What changes when migrating\n\n| Standalone (`.claude/`)       | Plugin                           |\n| :---------------------------- | :------------------------------- |\n| Only available in one project | Can be shared via marketplaces   |\n| Files in `.claude/commands/`  | Files in `plugin-name/commands/` |\n| Hooks in `settings.json`      | Hooks in `hooks/hooks.json`      |\n| Must manually copy to share   | Install with `/plugin install`   |\n\n<Note>\n  After migrating, you can remove the original files from `.claude/` to avoid duplicates. The plugin version will take precedence when loaded.\n</Note>\n\n## Next steps\n\nNow that you understand Claude Code's plugin system, here are suggested paths for different goals:\n\n### For plugin users\n\n* [Discover and install plugins](/en/discover-plugins): browse marketplaces and install plugins\n* [Configure team marketplaces](/en/discover-plugins#configure-team-marketplaces): set up repository-level plugins for your team\n\n### For plugin developers\n\n* [Create and distribute a marketplace](/en/plugin-marketplaces): package and share your plugins\n* [Plugins reference](/en/plugins-reference): complete technical specifications\n* Dive deeper into specific plugin components:\n  * [Slash commands](/en/slash-commands): command development details\n  * [Subagents](/en/sub-agents): agent configuration and capabilities\n  * [Agent Skills](/en/skills): extend Claude's capabilities\n  * [Hooks](/en/hooks): event handling and automation\n  * [MCP](/en/mcp): external tool integration\n\n\n---\n\n> To find navigation and other pages in this documentation, fetch the llms.txt file at: https://code.claude.com/docs/llms.txt"}]},"uuid":"a2304ed8-aad3-4e7e-b03a-3355e33bc8bc","timestamp":"2026-01-18T07:13:16.013Z","toolUseResult":{"bytes":16908,"code":200,"codeText":"OK","result":"# Create plugins\n\n> Create custom plugins to extend Claude Code with slash commands, agents, hooks, Skills, and MCP servers.\n\nPlugins let you extend Claude Code with custom functionality that can be shared across projects and teams. This guide covers creating your own plugins with slash commands, agents, Skills, hooks, and MCP servers.\n\nLooking to install existing plugins? See [Discover and install plugins](/en/discover-plugins). For complete technical specifications, see [Plugins reference](/en/plugins-reference).\n\n## When to use plugins vs standalone configuration\n\nClaude Code supports two ways to add custom slash commands, agents, and hooks:\n\n| Approach                                                    | Slash command names  | Best for                                                                                        |\n| :---------------------------------------------------------- | :------------------- | :---------------------------------------------------------------------------------------------- |\n| **Standalone** (`.claude/` directory)                       | `/hello`             | Personal workflows, project-specific customizations, quick experiments                          |\n| **Plugins** (directories with `.claude-plugin/plugin.json`) | `/plugin-name:hello` | Sharing with teammates, distributing to community, versioned releases, reusable across projects |\n\n**Use standalone configuration when**:\n\n* You're customizing Claude Code for a single project\n* The configuration is personal and doesn't need to be shared\n* You're experimenting with slash commands or hooks before packaging them\n* You want short slash command names like `/hello` or `/review`\n\n**Use plugins when**:\n\n* You want to share functionality with your team or community\n* You need the same slash commands/agents across multiple projects\n* You want version control and easy updates for your extensions\n* You're distributing through a marketplace\n* You're okay with namespaced slash commands like `/my-plugin:hello` (namespacing prevents conflicts between plugins)\n\n<Tip>\n  Start with standalone configuration in `.claude/` for quick iteration, then [convert to a plugin](#convert-existing-configurations-to-plugins) when you're ready to share.\n</Tip>\n\n## Quickstart\n\nThis quickstart walks you through creating a plugin with a custom slash command. You'll create a manifest (the configuration file that defines your plugin), add a slash command, and test it locally using the `--plugin-dir` flag.\n\n### Prerequisites\n\n* Claude Code [installed and authenticated](/en/quickstart#step-1-install-claude-code)\n* Claude Code version 1.0.33 or later (run `claude --version` to check)\n\n<Note>\n  If you don't see the `/plugin` command, update Claude Code to the latest version. See [Troubleshooting](/en/troubleshooting) for upgrade instructions.\n</Note>\n\n### Create your first plugin\n\n<Steps>\n  <Step title=\"Create the plugin directory\">\n    Every plugin lives in its own directory containing a manifest and your custom commands, agents, or hooks. Create one now:\n\n    ```bash  theme={null}\n    mkdir my-first-plugin\n    ```\n  </Step>\n\n  <Step title=\"Create the plugin manifest\">\n    The manifest file at `.claude-plugin/plugin.json` defines your plugin's identity: its name, description, and version. Claude Code uses this metadata to display your plugin in the plugin manager.\n\n    Create the `.claude-plugin` directory inside your plugin folder:\n\n    ```bash  theme={null}\n    mkdir my-first-plugin/.claude-plugin\n    ```\n\n    Then create `my-first-plugin/.claude-plugin/plugin.json` with this content:\n\n    ```json my-first-plugin/.claude-plugin/plugin.json theme={null}\n    {\n    \"name\": \"my-first-plugin\",\n    \"description\": \"A greeting plugin to learn the basics\",\n    \"version\": \"1.0.0\",\n    \"author\": {\n    \"name\": \"Your Name\"\n    }\n    }\n    ```\n\n    | Field         | Purpose                                                                                                                |\n    | :------------ | :--------------------------------------------------------------------------------------------------------------------- |\n    | `name`        | Unique identifier and slash command namespace. Slash commands are prefixed with this (e.g., `/my-first-plugin:hello`). |\n    | `description` | Shown in the plugin manager when browsing or installing plugins.                                                       |\n    | `version`     | Track releases using [semantic versioning](/en/plugins-reference#version-management).                                  |\n    | `author`      | Optional. Helpful for attribution.                                                                                     |\n\n    For additional fields like `homepage`, `repository`, and `license`, see the [full manifest schema](/en/plugins-reference#plugin-manifest-schema).\n  </Step>\n\n  <Step title=\"Add a slash command\">\n    Slash commands are Markdown files in the `commands/` directory. The filename becomes the slash command name, prefixed with the plugin's namespace (`hello.md` in a plugin named `my-first-plugin` creates `/my-first-plugin:hello`). The Markdown content tells Claude how to respond when someone runs the slash command.\n\n    Create a `commands` directory in your plugin folder:\n\n    ```bash  theme={null}\n    mkdir my-first-plugin/commands\n    ```\n\n    Then create `my-first-plugin/commands/hello.md` with this content:\n\n    ```markdown my-first-plugin/commands/hello.md theme={null}\n    ---\n    description: Greet the user with a friendly message\n    ---\n\n    # Hello Command\n\n    Greet the user warmly and ask how you can help them today.\n    ```\n  </Step>\n\n  <Step title=\"Test your plugin\">\n    Run Claude Code with the `--plugin-dir` flag to load your plugin:\n\n    ```bash  theme={null}\n    claude --plugin-dir ./my-first-plugin\n    ```\n\n    Once Claude Code starts, try your new command:\n\n    ```shell  theme={null}\n    /my-first-plugin:hello\n    ```\n\n    You'll see Claude respond with a greeting. Run `/help` to see your command listed under the plugin namespace.\n\n    <Note>\n      **Why namespacing?** Plugin slash commands are always namespaced (like `/greet:hello`) to prevent conflicts when multiple plugins have commands with the same name.\n\n      To change the namespace prefix, update the `name` field in `plugin.json`.\n    </Note>\n  </Step>\n\n  <Step title=\"Add slash command arguments\">\n    Make your slash command dynamic by accepting user input. The `$ARGUMENTS` placeholder captures any text the user provides after the slash command.\n\n    Update your `hello.md` file:\n\n    ```markdown my-first-plugin/commands/hello.md theme={null}\n    ---\n    description: Greet the user with a personalized message\n    ---\n\n    # Hello Command\n\n    Greet the user named \"$ARGUMENTS\" warmly and ask how you can help them today. Make the greeting personal and encouraging.\n    ```\n\n    Restart Claude Code to pick up the changes, then try the command with your name:\n\n    ```shell  theme={null}\n    /my-first-plugin:hello Alex\n    ```\n\n    Claude will greet you by name. For more argument options like `$1`, `$2` for individual parameters, see [Slash commands](/en/slash-commands).\n  </Step>\n</Steps>\n\nYou've successfully created and tested a plugin with these key components:\n\n* **Plugin manifest** (`.claude-plugin/plugin.json`): describes your plugin's metadata\n* **Commands directory** (`commands/`): contains your custom slash commands\n* **Command arguments** (`$ARGUMENTS`): captures user input for dynamic behavior\n\n<Tip>\n  The `--plugin-dir` flag is useful for development and testing. When you're ready to share your plugin with others, see [Create and distribute a plugin marketplace](/en/plugin-marketplaces).\n</Tip>\n\n## Plugin structure overview\n\nYou've created a plugin with a slash command, but plugins can include much more: custom agents, Skills, hooks, MCP servers, and LSP servers.\n\n<Warning>\n  **Common mistake**: Don't put `commands/`, `agents/`, `skills/`, or `hooks/` inside the `.claude-plugin/` directory. Only `plugin.json` goes inside `.claude-plugin/`. All other directories must be at the plugin root level.\n</Warning>\n\n| Directory         | Location    | Purpose                                         |\n| :---------------- | :---------- | :---------------------------------------------- |\n| `.claude-plugin/` | Plugin root | Contains only `plugin.json` manifest (required) |\n| `commands/`       | Plugin root | Slash commands as Markdown files                |\n| `agents/`         | Plugin root | Custom agent definitions                        |\n| `skills/`         | Plugin root | Agent Skills with `SKILL.md` files              |\n| `hooks/`          | Plugin root | Event handlers in `hooks.json`                  |\n| `.mcp.json`       | Plugin root | MCP server configurations                       |\n| `.lsp.json`       | Plugin root | LSP server configurations for code intelligence |\n\n<Note>\n  **Next steps**: Ready to add more features? Jump to [Develop more complex plugins](#develop-more-complex-plugins) to add agents, hooks, MCP servers, and LSP servers. For complete technical specifications of all plugin components, see [Plugins reference](/en/plugins-reference).\n</Note>\n\n## Develop more complex plugins\n\nOnce you're comfortable with basic plugins, you can create more sophisticated extensions.\n\n### Add Skills to your plugin\n\nPlugins can include [Agent Skills](/en/skills) to extend Claude's capabilities. Skills are model-invoked: Claude automatically uses them based on the task context.\n\nAdd a `skills/` directory at your plugin root with Skill folders containing `SKILL.md` files:\n\n```\nmy-plugin/\n .claude-plugin/\n    plugin.json\n skills/\n     code-review/\n         SKILL.md\n```\n\nEach `SKILL.md` needs frontmatter with `name` and `description` fields, followed by instructions:\n\n```yaml  theme={null}\n---\nname: code-review\ndescription: Reviews code for best practices and potential issues. Use when reviewing code, checking PRs, or analyzing code quality.\n---\n\nWhen reviewing code, check for:\n1. Code organization and structure\n2. Error handling\n3. Security concerns\n4. Test coverage\n```\n\nAfter installing the plugin, restart Claude Code to load the Skills. For complete Skill authoring guidance including progressive disclosure and tool restrictions, see [Agent Skills](/en/skills).\n\n### Add LSP servers to your plugin\n\n<Tip>\n  For common languages like TypeScript, Python, and Rust, install the pre-built LSP plugins from the official marketplace. Create custom LSP plugins only when you need support for languages not already covered.\n</Tip>\n\nLSP (Language Server Protocol) plugins give Claude real-time code intelligence. If you need to support a language that doesn't have an official LSP plugin, you can create your own by adding an `.lsp.json` file to your plugin:\n\n```json .lsp.json theme={null}\n{\n  \"go\": {\n    \"command\": \"gopls\",\n    \"args\": [\"serve\"],\n    \"extensionToLanguage\": {\n      \".go\": \"go\"\n    }\n  }\n}\n```\n\nUsers installing your plugin must have the language server binary installed on their machine.\n\nFor complete LSP configuration options, see [LSP servers](/en/plugins-reference#lsp-servers).\n\n### Organize complex plugins\n\nFor plugins with many components, organize your directory structure by functionality. For complete directory layouts and organization patterns, see [Plugin directory structure](/en/plugins-reference#plugin-directory-structure).\n\n### Test your plugins locally\n\nUse the `--plugin-dir` flag to test plugins during development. This loads your plugin directly without requiring installation.\n\n```bash  theme={null}\nclaude --plugin-dir ./my-plugin\n```\n\nAs you make changes to your plugin, restart Claude Code to pick up the updates. Test your plugin components:\n\n* Try your commands with `/command-name`\n* Check that agents appear in `/agents`\n* Verify hooks work as expected\n\n<Tip>\n  You can load multiple plugins at once by specifying the flag multiple times:\n\n  ```bash  theme={null}\n  claude --plugin-dir ./plugin-one --plugin-dir ./plugin-two\n  ```\n</Tip>\n\n### Debug plugin issues\n\nIf your plugin isn't working as expected:\n\n1. **Check the structure**: Ensure your directories are at the plugin root, not inside `.claude-plugin/`\n2. **Test components individually**: Check each command, agent, and hook separately\n3. **Use validation and debugging tools**: See [Debugging and development tools](/en/plugins-reference#debugging-and-development-tools) for CLI commands and troubleshooting techniques\n\n### Share your plugins\n\nWhen your plugin is ready to share:\n\n1. **Add documentation**: Include a `README.md` with installation and usage instructions\n2. **Version your plugin**: Use [semantic versioning](/en/plugins-reference#version-management) in your `plugin.json`\n3. **Create or use a marketplace**: Distribute through [plugin marketplaces](/en/plugin-marketplaces) for installation\n4. **Test with others**: Have team members test the plugin before wider distribution\n\nOnce your plugin is in a marketplace, others can install it using the instructions in [Discover and install plugins](/en/discover-plugins).\n\n<Note>\n  For complete technical specifications, debugging techniques, and distribution strategies, see [Plugins reference](/en/plugins-reference).\n</Note>\n\n## Convert existing configurations to plugins\n\nIf you already have custom commands, Skills, or hooks in your `.claude/` directory, you can convert them into a plugin for easier sharing and distribution.\n\n### Migration steps\n\n<Steps>\n  <Step title=\"Create the plugin structure\">\n    Create a new plugin directory:\n\n    ```bash  theme={null}\n    mkdir -p my-plugin/.claude-plugin\n    ```\n\n    Create the manifest file at `my-plugin/.claude-plugin/plugin.json`:\n\n    ```json my-plugin/.claude-plugin/plugin.json theme={null}\n    {\n      \"name\": \"my-plugin\",\n      \"description\": \"Migrated from standalone configuration\",\n      \"version\": \"1.0.0\"\n    }\n    ```\n  </Step>\n\n  <Step title=\"Copy your existing files\">\n    Copy your existing configurations to the plugin directory:\n\n    ```bash  theme={null}\n    # Copy commands\n    cp -r .claude/commands my-plugin/\n\n    # Copy agents (if any)\n    cp -r .claude/agents my-plugin/\n\n    # Copy skills (if any)\n    cp -r .claude/skills my-plugin/\n    ```\n  </Step>\n\n  <Step title=\"Migrate hooks\">\n    If you have hooks in your settings, create a hooks directory:\n\n    ```bash  theme={null}\n    mkdir my-plugin/hooks\n    ```\n\n    Create `my-plugin/hooks/hooks.json` with your hooks configuration. Copy the `hooks` object from your `.claude/settings.json` or `settings.local.json`the format is the same:\n\n    ```json my-plugin/hooks/hooks.json theme={null}\n    {\n      \"hooks\": {\n        \"PostToolUse\": [\n          {\n            \"matcher\": \"Write|Edit\",\n            \"hooks\": [{ \"type\": \"command\", \"command\": \"npm run lint:fix $FILE\" }]\n          }\n        ]\n      }\n    }\n    ```\n  </Step>\n\n  <Step title=\"Test your migrated plugin\">\n    Load your plugin to verify everything works:\n\n    ```bash  theme={null}\n    claude --plugin-dir ./my-plugin\n    ```\n\n    Test each component: run your commands, check agents appear in `/agents`, and verify hooks trigger correctly.\n  </Step>\n</Steps>\n\n### What changes when migrating\n\n| Standalone (`.claude/`)       | Plugin                           |\n| :---------------------------- | :------------------------------- |\n| Only available in one project | Can be shared via marketplaces   |\n| Files in `.claude/commands/`  | Files in `plugin-name/commands/` |\n| Hooks in `settings.json`      | Hooks in `hooks/hooks.json`      |\n| Must manually copy to share   | Install with `/plugin install`   |\n\n<Note>\n  After migrating, you can remove the original files from `.claude/` to avoid duplicates. The plugin version will take precedence when loaded.\n</Note>\n\n## Next steps\n\nNow that you understand Claude Code's plugin system, here are suggested paths for different goals:\n\n### For plugin users\n\n* [Discover and install plugins](/en/discover-plugins): browse marketplaces and install plugins\n* [Configure team marketplaces](/en/discover-plugins#configure-team-marketplaces): set up repository-level plugins for your team\n\n### For plugin developers\n\n* [Create and distribute a marketplace](/en/plugin-marketplaces): package and share your plugins\n* [Plugins reference](/en/plugins-reference): complete technical specifications\n* Dive deeper into specific plugin components:\n  * [Slash commands](/en/slash-commands): command development details\n  * [Subagents](/en/sub-agents): agent configuration and capabilities\n  * [Agent Skills](/en/skills): extend Claude's capabilities\n  * [Hooks](/en/hooks): event handling and automation\n  * [MCP](/en/mcp): external tool integration\n\n\n---\n\n> To find navigation and other pages in this documentation, fetch the llms.txt file at: https://code.claude.com/docs/llms.txt","durationMs":151,"url":"https://code.claude.com/docs/en/plugins.md"},"sourceToolAssistantUUID":"fbb018b9-f062-4c42-a480-9ec652b679d3"}
{"parentUuid":"a0b0f90f-f728-4eb9-87c5-f5b34b38e9fd","isSidechain":true,"userType":"external","cwd":"/Users/liuhanwen/Desktop/project/webtech-monorepo/packages","sessionId":"46130ba2-b7ed-45e0-88b6-475c365b9d80","version":"2.1.12","gitBranch":"vor-27075","agentId":"a23c139","slug":"streamed-hatching-codd","type":"user","message":{"role":"user","content":[{"tool_use_id":"toolu_011Rq5CBXpjPWega1jqGA1Z8","type":"tool_result","content":"# Plugins reference\n\n> Complete technical reference for Claude Code plugin system, including schemas, CLI commands, and component specifications.\n\n<Tip>\n  Looking to install plugins? See [Discover and install plugins](/en/discover-plugins). For creating plugins, see [Plugins](/en/plugins). For distributing plugins, see [Plugin marketplaces](/en/plugin-marketplaces).\n</Tip>\n\nThis reference provides complete technical specifications for the Claude Code plugin system, including component schemas, CLI commands, and development tools.\n\n## Plugin components reference\n\nThis section documents the five types of components that plugins can provide.\n\n### Commands\n\nPlugins add custom slash commands that integrate seamlessly with Claude Code's command system.\n\n**Location**: `commands/` directory in plugin root\n\n**File format**: Markdown files with frontmatter\n\nFor complete details on plugin command structure, invocation patterns, and features, see [Plugin commands](/en/slash-commands#plugin-commands).\n\n### Agents\n\nPlugins can provide specialized subagents for specific tasks that Claude can invoke automatically when appropriate.\n\n**Location**: `agents/` directory in plugin root\n\n**File format**: Markdown files describing agent capabilities\n\n**Agent structure**:\n\n```markdown  theme={null}\n---\ndescription: What this agent specializes in\ncapabilities: [\"task1\", \"task2\", \"task3\"]\n---\n\n# Agent Name\n\nDetailed description of the agent's role, expertise, and when Claude should invoke it.\n\n## Capabilities\n- Specific task the agent excels at\n- Another specialized capability\n- When to use this agent vs others\n\n## Context and examples\nProvide examples of when this agent should be used and what kinds of problems it solves.\n```\n\n**Integration points**:\n\n* Agents appear in the `/agents` interface\n* Claude can invoke agents automatically based on task context\n* Agents can be invoked manually by users\n* Plugin agents work alongside built-in Claude agents\n\n### Skills\n\nPlugins can provide Agent Skills that extend Claude's capabilities. Skills are model-invokedClaude autonomously decides when to use them based on the task context.\n\n**Location**: `skills/` directory in plugin root\n\n**File format**: Directories containing `SKILL.md` files with frontmatter\n\n**Skill structure**:\n\n```\nskills/\n pdf-processor/\n    SKILL.md\n    reference.md (optional)\n    scripts/ (optional)\n code-reviewer/\n     SKILL.md\n```\n\n**Integration behavior**:\n\n* Plugin Skills are automatically discovered when the plugin is installed\n* Claude autonomously invokes Skills based on matching task context\n* Skills can include supporting files alongside SKILL.md\n\nFor SKILL.md format and complete Skill authoring guidance, see:\n\n* [Use Skills in Claude Code](/en/skills)\n* [Agent Skills overview](https://docs.claude.com/en/docs/agents-and-tools/agent-skills/overview#skill-structure)\n\n### Hooks\n\nPlugins can provide event handlers that respond to Claude Code events automatically.\n\n**Location**: `hooks/hooks.json` in plugin root, or inline in plugin.json\n\n**Format**: JSON configuration with event matchers and actions\n\n**Hook configuration**:\n\n```json  theme={null}\n{\n  \"hooks\": {\n    \"PostToolUse\": [\n      {\n        \"matcher\": \"Write|Edit\",\n        \"hooks\": [\n          {\n            \"type\": \"command\",\n            \"command\": \"${CLAUDE_PLUGIN_ROOT}/scripts/format-code.sh\"\n          }\n        ]\n      }\n    ]\n  }\n}\n```\n\n**Available events**:\n\n* `PreToolUse`: Before Claude uses any tool\n* `PostToolUse`: After Claude successfully uses any tool\n* `PostToolUseFailure`: After Claude tool execution fails\n* `PermissionRequest`: When a permission dialog is shown\n* `UserPromptSubmit`: When user submits a prompt\n* `Notification`: When Claude Code sends notifications\n* `Stop`: When Claude attempts to stop\n* `SubagentStart`: When a subagent is started\n* `SubagentStop`: When a subagent attempts to stop\n* `SessionStart`: At the beginning of sessions\n* `SessionEnd`: At the end of sessions\n* `PreCompact`: Before conversation history is compacted\n\n**Hook types**:\n\n* `command`: Execute shell commands or scripts\n* `prompt`: Evaluate a prompt with an LLM (uses `$ARGUMENTS` placeholder for context)\n* `agent`: Run an agentic verifier with tools for complex verification tasks\n\n### MCP servers\n\nPlugins can bundle Model Context Protocol (MCP) servers to connect Claude Code with external tools and services.\n\n**Location**: `.mcp.json` in plugin root, or inline in plugin.json\n\n**Format**: Standard MCP server configuration\n\n**MCP server configuration**:\n\n```json  theme={null}\n{\n  \"mcpServers\": {\n    \"plugin-database\": {\n      \"command\": \"${CLAUDE_PLUGIN_ROOT}/servers/db-server\",\n      \"args\": [\"--config\", \"${CLAUDE_PLUGIN_ROOT}/config.json\"],\n      \"env\": {\n        \"DB_PATH\": \"${CLAUDE_PLUGIN_ROOT}/data\"\n      }\n    },\n    \"plugin-api-client\": {\n      \"command\": \"npx\",\n      \"args\": [\"@company/mcp-server\", \"--plugin-mode\"],\n      \"cwd\": \"${CLAUDE_PLUGIN_ROOT}\"\n    }\n  }\n}\n```\n\n**Integration behavior**:\n\n* Plugin MCP servers start automatically when the plugin is enabled\n* Servers appear as standard MCP tools in Claude's toolkit\n* Server capabilities integrate seamlessly with Claude's existing tools\n* Plugin servers can be configured independently of user MCP servers\n\n### LSP servers\n\n<Tip>\n  Looking to use LSP plugins? Install them from the official marketplacesearch for \"lsp\" in the `/plugin` Discover tab. This section documents how to create LSP plugins for languages not covered by the official marketplace.\n</Tip>\n\nPlugins can provide [Language Server Protocol](https://microsoft.github.io/language-server-protocol/) (LSP) servers to give Claude real-time code intelligence while working on your codebase.\n\nLSP integration provides:\n\n* **Instant diagnostics**: Claude sees errors and warnings immediately after each edit\n* **Code navigation**: go to definition, find references, and hover information\n* **Language awareness**: type information and documentation for code symbols\n\n**Location**: `.lsp.json` in plugin root, or inline in `plugin.json`\n\n**Format**: JSON configuration mapping language server names to their configurations\n\n**`.lsp.json` file format**:\n\n```json  theme={null}\n{\n  \"go\": {\n    \"command\": \"gopls\",\n    \"args\": [\"serve\"],\n    \"extensionToLanguage\": {\n      \".go\": \"go\"\n    }\n  }\n}\n```\n\n**Inline in `plugin.json`**:\n\n```json  theme={null}\n{\n  \"name\": \"my-plugin\",\n  \"lspServers\": {\n    \"go\": {\n      \"command\": \"gopls\",\n      \"args\": [\"serve\"],\n      \"extensionToLanguage\": {\n        \".go\": \"go\"\n      }\n    }\n  }\n}\n```\n\n**Required fields:**\n\n| Field                 | Description                                  |\n| :-------------------- | :------------------------------------------- |\n| `command`             | The LSP binary to execute (must be in PATH)  |\n| `extensionToLanguage` | Maps file extensions to language identifiers |\n\n**Optional fields:**\n\n| Field                   | Description                                               |\n| :---------------------- | :-------------------------------------------------------- |\n| `args`                  | Command-line arguments for the LSP server                 |\n| `transport`             | Communication transport: `stdio` (default) or `socket`    |\n| `env`                   | Environment variables to set when starting the server     |\n| `initializationOptions` | Options passed to the server during initialization        |\n| `settings`              | Settings passed via `workspace/didChangeConfiguration`    |\n| `workspaceFolder`       | Workspace folder path for the server                      |\n| `startupTimeout`        | Max time to wait for server startup (milliseconds)        |\n| `shutdownTimeout`       | Max time to wait for graceful shutdown (milliseconds)     |\n| `restartOnCrash`        | Whether to automatically restart the server if it crashes |\n| `maxRestarts`           | Maximum number of restart attempts before giving up       |\n\n<Warning>\n  **You must install the language server binary separately.** LSP plugins configure how Claude Code connects to a language server, but they don't include the server itself. If you see `Executable not found in $PATH` in the `/plugin` Errors tab, install the required binary for your language.\n</Warning>\n\n**Available LSP plugins:**\n\n| Plugin           | Language server            | Install command                                                                            |\n| :--------------- | :------------------------- | :----------------------------------------------------------------------------------------- |\n| `pyright-lsp`    | Pyright (Python)           | `pip install pyright` or `npm install -g pyright`                                          |\n| `typescript-lsp` | TypeScript Language Server | `npm install -g typescript-language-server typescript`                                     |\n| `rust-lsp`       | rust-analyzer              | [See rust-analyzer installation](https://rust-analyzer.github.io/manual.html#installation) |\n\nInstall the language server first, then install the plugin from the marketplace.\n\n***\n\n## Plugin installation scopes\n\nWhen you install a plugin, you choose a **scope** that determines where the plugin is available and who else can use it:\n\n| Scope     | Settings file                 | Use case                                                 |\n| :-------- | :---------------------------- | :------------------------------------------------------- |\n| `user`    | `~/.claude/settings.json`     | Personal plugins available across all projects (default) |\n| `project` | `.claude/settings.json`       | Team plugins shared via version control                  |\n| `local`   | `.claude/settings.local.json` | Project-specific plugins, gitignored                     |\n| `managed` | `managed-settings.json`       | Managed plugins (read-only, update only)                 |\n\nPlugins use the same scope system as other Claude Code configurations. For installation instructions and scope flags, see [Install plugins](/en/discover-plugins#install-plugins). For a complete explanation of scopes, see [Configuration scopes](/en/settings#configuration-scopes).\n\n***\n\n## Plugin manifest schema\n\nThe `plugin.json` file defines your plugin's metadata and configuration. This section documents all supported fields and options.\n\n### Complete schema\n\n```json  theme={null}\n{\n  \"name\": \"plugin-name\",\n  \"version\": \"1.2.0\",\n  \"description\": \"Brief plugin description\",\n  \"author\": {\n    \"name\": \"Author Name\",\n    \"email\": \"author@example.com\",\n    \"url\": \"https://github.com/author\"\n  },\n  \"homepage\": \"https://docs.example.com/plugin\",\n  \"repository\": \"https://github.com/author/plugin\",\n  \"license\": \"MIT\",\n  \"keywords\": [\"keyword1\", \"keyword2\"],\n  \"commands\": [\"./custom/commands/special.md\"],\n  \"agents\": \"./custom/agents/\",\n  \"skills\": \"./custom/skills/\",\n  \"hooks\": \"./config/hooks.json\",\n  \"mcpServers\": \"./mcp-config.json\",\n  \"outputStyles\": \"./styles/\",\n  \"lspServers\": \"./.lsp.json\"\n}\n```\n\n### Required fields\n\n| Field  | Type   | Description                               | Example              |\n| :----- | :----- | :---------------------------------------- | :------------------- |\n| `name` | string | Unique identifier (kebab-case, no spaces) | `\"deployment-tools\"` |\n\n### Metadata fields\n\n| Field         | Type   | Description                         | Example                                            |\n| :------------ | :----- | :---------------------------------- | :------------------------------------------------- |\n| `version`     | string | Semantic version                    | `\"2.1.0\"`                                          |\n| `description` | string | Brief explanation of plugin purpose | `\"Deployment automation tools\"`                    |\n| `author`      | object | Author information                  | `{\"name\": \"Dev Team\", \"email\": \"dev@company.com\"}` |\n| `homepage`    | string | Documentation URL                   | `\"https://docs.example.com\"`                       |\n| `repository`  | string | Source code URL                     | `\"https://github.com/user/plugin\"`                 |\n| `license`     | string | License identifier                  | `\"MIT\"`, `\"Apache-2.0\"`                            |\n| `keywords`    | array  | Discovery tags                      | `[\"deployment\", \"ci-cd\"]`                          |\n\n### Component path fields\n\n| Field          | Type           | Description                                                                                                                                              | Example                                |\n| :------------- | :------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------- | :------------------------------------- |\n| `commands`     | string\\|array  | Additional command files/directories                                                                                                                     | `\"./custom/cmd.md\"` or `[\"./cmd1.md\"]` |\n| `agents`       | string\\|array  | Additional agent files                                                                                                                                   | `\"./custom/agents/\"`                   |\n| `skills`       | string\\|array  | Additional skill directories                                                                                                                             | `\"./custom/skills/\"`                   |\n| `hooks`        | string\\|object | Hook config path or inline config                                                                                                                        | `\"./hooks.json\"`                       |\n| `mcpServers`   | string\\|object | MCP config path or inline config                                                                                                                         | `\"./mcp-config.json\"`                  |\n| `outputStyles` | string\\|array  | Additional output style files/directories                                                                                                                | `\"./styles/\"`                          |\n| `lspServers`   | string\\|object | [Language Server Protocol](https://microsoft.github.io/language-server-protocol/) config for code intelligence (go to definition, find references, etc.) | `\"./.lsp.json\"`                        |\n\n### Path behavior rules\n\n**Important**: Custom paths supplement default directories - they don't replace them.\n\n* If `commands/` exists, it's loaded in addition to custom command paths\n* All paths must be relative to plugin root and start with `./`\n* Commands from custom paths use the same naming and namespacing rules\n* Multiple paths can be specified as arrays for flexibility\n\n**Path examples**:\n\n```json  theme={null}\n{\n  \"commands\": [\n    \"./specialized/deploy.md\",\n    \"./utilities/batch-process.md\"\n  ],\n  \"agents\": [\n    \"./custom-agents/reviewer.md\",\n    \"./custom-agents/tester.md\"\n  ]\n}\n```\n\n### Environment variables\n\n**`${CLAUDE_PLUGIN_ROOT}`**: Contains the absolute path to your plugin directory. Use this in hooks, MCP servers, and scripts to ensure correct paths regardless of installation location.\n\n```json  theme={null}\n{\n  \"hooks\": {\n    \"PostToolUse\": [\n      {\n        \"hooks\": [\n          {\n            \"type\": \"command\",\n            \"command\": \"${CLAUDE_PLUGIN_ROOT}/scripts/process.sh\"\n          }\n        ]\n      }\n    ]\n  }\n}\n```\n\n***\n\n## Plugin caching and file resolution\n\nFor security and verification purposes, Claude Code copies plugins to a cache directory rather than using them in-place. Understanding this behavior is important when developing plugins that reference external files.\n\n### How plugin caching works\n\nWhen you install a plugin, Claude Code copies the plugin files to a cache directory:\n\n* **For marketplace plugins with relative paths**: The path specified in the `source` field is copied recursively. For example, if your marketplace entry specifies `\"source\": \"./plugins/my-plugin\"`, the entire `./plugins` directory is copied.\n* **For plugins with `.claude-plugin/plugin.json`**: The implicit root directory (the directory containing `.claude-plugin/plugin.json`) is copied recursively.\n\n### Path traversal limitations\n\nPlugins cannot reference files outside their copied directory structure. Paths that traverse outside the plugin root (such as `../shared-utils`) will not work after installation because those external files are not copied to the cache.\n\n### Working with external dependencies\n\nIf your plugin needs to access files outside its directory, you have two options:\n\n**Option 1: Use symlinks**\n\nCreate symbolic links to external files within your plugin directory. Symlinks are honored during the copy process:\n\n```bash  theme={null}\n# Inside your plugin directory\nln -s /path/to/shared-utils ./shared-utils\n```\n\nThe symlinked content will be copied into the plugin cache.\n\n**Option 2: Restructure your marketplace**\n\nSet the plugin path to a parent directory that contains all required files, then provide the rest of the plugin manifest directly in the marketplace entry:\n\n```json  theme={null}\n{\n  \"name\": \"my-plugin\",\n  \"source\": \"./\",\n  \"description\": \"Plugin that needs root-level access\",\n  \"commands\": [\"./plugins/my-plugin/commands/\"],\n  \"agents\": [\"./plugins/my-plugin/agents/\"],\n  \"strict\": false\n}\n```\n\nThis approach copies the entire marketplace root, giving your plugin access to sibling directories.\n\n<Note>\n  Symlinks that point to locations outside the plugin's logical root are followed during copying. This provides flexibility while maintaining the security benefits of the caching system.\n</Note>\n\n***\n\n## Plugin directory structure\n\n### Standard plugin layout\n\nA complete plugin follows this structure:\n\n```\nenterprise-plugin/\n .claude-plugin/           # Metadata directory\n    plugin.json          # Required: plugin manifest\n commands/                 # Default command location\n    status.md\n    logs.md\n agents/                   # Default agent location\n    security-reviewer.md\n    performance-tester.md\n    compliance-checker.md\n skills/                   # Agent Skills\n    code-reviewer/\n       SKILL.md\n    pdf-processor/\n        SKILL.md\n        scripts/\n hooks/                    # Hook configurations\n    hooks.json           # Main hook config\n    security-hooks.json  # Additional hooks\n .mcp.json                # MCP server definitions\n .lsp.json                # LSP server configurations\n scripts/                 # Hook and utility scripts\n    security-scan.sh\n    format-code.py\n    deploy.js\n LICENSE                  # License file\n CHANGELOG.md             # Version history\n```\n\n<Warning>\n  The `.claude-plugin/` directory contains the `plugin.json` file. All other directories (commands/, agents/, skills/, hooks/) must be at the plugin root, not inside `.claude-plugin/`.\n</Warning>\n\n### File locations reference\n\n| Component       | Default Location             | Purpose                          |\n| :-------------- | :--------------------------- | :------------------------------- |\n| **Manifest**    | `.claude-plugin/plugin.json` | Required metadata file           |\n| **Commands**    | `commands/`                  | Slash command Markdown files     |\n| **Agents**      | `agents/`                    | Subagent Markdown files          |\n| **Skills**      | `skills/`                    | Agent Skills with SKILL.md files |\n| **Hooks**       | `hooks/hooks.json`           | Hook configuration               |\n| **MCP servers** | `.mcp.json`                  | MCP server definitions           |\n| **LSP servers** | `.lsp.json`                  | Language server configurations   |\n\n***\n\n## CLI commands reference\n\nClaude Code provides CLI commands for non-interactive plugin management, useful for scripting and automation.\n\n### plugin install\n\nInstall a plugin from available marketplaces.\n\n```bash  theme={null}\nclaude plugin install <plugin> [options]\n```\n\n**Arguments:**\n\n* `<plugin>`: Plugin name or `plugin-name@marketplace-name` for a specific marketplace\n\n**Options:**\n\n| Option                | Description                                       | Default |\n| :-------------------- | :------------------------------------------------ | :------ |\n| `-s, --scope <scope>` | Installation scope: `user`, `project`, or `local` | `user`  |\n| `-h, --help`          | Display help for command                          |         |\n\n**Examples:**\n\n```bash  theme={null}\n# Install to user scope (default)\nclaude plugin install formatter@my-marketplace\n\n# Install to project scope (shared with team)\nclaude plugin install formatter@my-marketplace --scope project\n\n# Install to local scope (gitignored)\nclaude plugin install formatter@my-marketplace --scope local\n```\n\n### plugin uninstall\n\nRemove an installed plugin.\n\n```bash  theme={null}\nclaude plugin uninstall <plugin> [options]\n```\n\n**Arguments:**\n\n* `<plugin>`: Plugin name or `plugin-name@marketplace-name`\n\n**Options:**\n\n| Option                | Description                                         | Default |\n| :-------------------- | :-------------------------------------------------- | :------ |\n| `-s, --scope <scope>` | Uninstall from scope: `user`, `project`, or `local` | `user`  |\n| `-h, --help`          | Display help for command                            |         |\n\n**Aliases:** `remove`, `rm`\n\n### plugin enable\n\nEnable a disabled plugin.\n\n```bash  theme={null}\nclaude plugin enable <plugin> [options]\n```\n\n**Arguments:**\n\n* `<plugin>`: Plugin name or `plugin-name@marketplace-name`\n\n**Options:**\n\n| Option                | Description                                    | Default |\n| :-------------------- | :--------------------------------------------- | :------ |\n| `-s, --scope <scope>` | Scope to enable: `user`, `project`, or `local` | `user`  |\n| `-h, --help`          | Display help for command                       |         |\n\n### plugin disable\n\nDisable a plugin without uninstalling it.\n\n```bash  theme={null}\nclaude plugin disable <plugin> [options]\n```\n\n**Arguments:**\n\n* `<plugin>`: Plugin name or `plugin-name@marketplace-name`\n\n**Options:**\n\n| Option                | Description                                     | Default |\n| :-------------------- | :---------------------------------------------- | :------ |\n| `-s, --scope <scope>` | Scope to disable: `user`, `project`, or `local` | `user`  |\n| `-h, --help`          | Display help for command                        |         |\n\n### plugin update\n\nUpdate a plugin to the latest version.\n\n```bash  theme={null}\nclaude plugin update <plugin> [options]\n```\n\n**Arguments:**\n\n* `<plugin>`: Plugin name or `plugin-name@marketplace-name`\n\n**Options:**\n\n| Option                | Description                                               | Default |\n| :-------------------- | :-------------------------------------------------------- | :------ |\n| `-s, --scope <scope>` | Scope to update: `user`, `project`, `local`, or `managed` | `user`  |\n| `-h, --help`          | Display help for command                                  |         |\n\n***\n\n## Debugging and development tools\n\n### Debugging commands\n\nUse `claude --debug` to see plugin loading details:\n\n```bash  theme={null}\nclaude --debug\n```\n\nThis shows:\n\n* Which plugins are being loaded\n* Any errors in plugin manifests\n* Command, agent, and hook registration\n* MCP server initialization\n\n### Common issues\n\n| Issue                               | Cause                           | Solution                                                                          |\n| :---------------------------------- | :------------------------------ | :-------------------------------------------------------------------------------- |\n| Plugin not loading                  | Invalid `plugin.json`           | Validate JSON syntax with `claude plugin validate` or `/plugin validate`          |\n| Commands not appearing              | Wrong directory structure       | Ensure `commands/` at root, not in `.claude-plugin/`                              |\n| Hooks not firing                    | Script not executable           | Run `chmod +x script.sh`                                                          |\n| MCP server fails                    | Missing `${CLAUDE_PLUGIN_ROOT}` | Use variable for all plugin paths                                                 |\n| Path errors                         | Absolute paths used             | All paths must be relative and start with `./`                                    |\n| LSP `Executable not found in $PATH` | Language server not installed   | Install the binary (e.g., `npm install -g typescript-language-server typescript`) |\n\n### Example error messages\n\n**Manifest validation errors**:\n\n* `Invalid JSON syntax: Unexpected token } in JSON at position 142`: check for missing commas, extra commas, or unquoted strings\n* `Plugin has an invalid manifest file at .claude-plugin/plugin.json. Validation errors: name: Required`: a required field is missing\n* `Plugin has a corrupt manifest file at .claude-plugin/plugin.json. JSON parse error: ...`: JSON syntax error\n\n**Plugin loading errors**:\n\n* `Warning: No commands found in plugin my-plugin custom directory: ./cmds. Expected .md files or SKILL.md in subdirectories.`: command path exists but contains no valid command files\n* `Plugin directory not found at path: ./plugins/my-plugin. Check that the marketplace entry has the correct path.`: the `source` path in marketplace.json points to a non-existent directory\n* `Plugin my-plugin has conflicting manifests: both plugin.json and marketplace entry specify components.`: remove duplicate component definitions or set `strict: true` in marketplace entry\n\n### Hook troubleshooting\n\n**Hook script not executing**:\n\n1. Check the script is executable: `chmod +x ./scripts/your-script.sh`\n2. Verify the shebang line: First line should be `#!/bin/bash` or `#!/usr/bin/env bash`\n3. Check the path uses `${CLAUDE_PLUGIN_ROOT}`: `\"command\": \"${CLAUDE_PLUGIN_ROOT}/scripts/your-script.sh\"`\n4. Test the script manually: `./scripts/your-script.sh`\n\n**Hook not triggering on expected events**:\n\n1. Verify the event name is correct (case-sensitive): `PostToolUse`, not `postToolUse`\n2. Check the matcher pattern matches your tools: `\"matcher\": \"Write|Edit\"` for file operations\n3. Confirm the hook type is valid: `command`, `prompt`, or `agent`\n\n### MCP server troubleshooting\n\n**Server not starting**:\n\n1. Check the command exists and is executable\n2. Verify all paths use `${CLAUDE_PLUGIN_ROOT}` variable\n3. Check the MCP server logs: `claude --debug` shows initialization errors\n4. Test the server manually outside of Claude Code\n\n**Server tools not appearing**:\n\n1. Ensure the server is properly configured in `.mcp.json` or `plugin.json`\n2. Verify the server implements the MCP protocol correctly\n3. Check for connection timeouts in debug output\n\n### Directory structure mistakes\n\n**Symptoms**: Plugin loads but components (commands, agents, hooks) are missing.\n\n**Correct structure**: Components must be at the plugin root, not inside `.claude-plugin/`. Only `plugin.json` belongs in `.claude-plugin/`.\n\n```\nmy-plugin/\n .claude-plugin/\n    plugin.json       Only manifest here\n commands/             At root level\n agents/               At root level\n hooks/                At root level\n```\n\nIf your components are inside `.claude-plugin/`, move them to the plugin root.\n\n**Debug checklist**:\n\n1. Run `claude --debug` and look for \"loading plugin\" messages\n2. Check that each component directory is listed in the debug output\n3. Verify file permissions allow reading the plugin files\n\n***\n\n## Distribution and versioning reference\n\n### Version management\n\nFollow semantic versioning for plugin releases:\n\n```json  theme={null}\n{\n  \"name\": \"my-plugin\",\n  \"version\": \"2.1.0\"\n}\n```\n\n**Version format**: `MAJOR.MINOR.PATCH`\n\n* **MAJOR**: Breaking changes (incompatible API changes)\n* **MINOR**: New features (backward-compatible additions)\n* **PATCH**: Bug fixes (backward-compatible fixes)\n\n**Best practices**:\n\n* Start at `1.0.0` for your first stable release\n* Update the version in `plugin.json` before distributing changes\n* Document changes in a `CHANGELOG.md` file\n* Use pre-release versions like `2.0.0-beta.1` for testing\n\n***\n\n## See also\n\n* [Plugins](/en/plugins) - Tutorials and practical usage\n* [Plugin marketplaces](/en/plugin-marketplaces) - Creating and managing marketplaces\n* [Slash commands](/en/slash-commands) - Command development details\n* [Subagents](/en/sub-agents) - Agent configuration and capabilities\n* [Agent Skills](/en/skills) - Extend Claude's capabilities\n* [Hooks](/en/hooks) - Event handling and automation\n* [MCP](/en/mcp) - External tool integration\n* [Settings](/en/settings) - Configuration options for plugins\n\n\n---\n\n> To find navigation and other pages in this documentation, fetch the llms.txt file at: https://code.claude.com/docs/llms.txt"}]},"uuid":"5a2cdd1b-8f1a-4622-86f9-5621d9c6700c","timestamp":"2026-01-18T07:13:16.028Z","toolUseResult":{"bytes":29416,"code":200,"codeText":"OK","result":"# Plugins reference\n\n> Complete technical reference for Claude Code plugin system, including schemas, CLI commands, and component specifications.\n\n<Tip>\n  Looking to install plugins? See [Discover and install plugins](/en/discover-plugins). For creating plugins, see [Plugins](/en/plugins). For distributing plugins, see [Plugin marketplaces](/en/plugin-marketplaces).\n</Tip>\n\nThis reference provides complete technical specifications for the Claude Code plugin system, including component schemas, CLI commands, and development tools.\n\n## Plugin components reference\n\nThis section documents the five types of components that plugins can provide.\n\n### Commands\n\nPlugins add custom slash commands that integrate seamlessly with Claude Code's command system.\n\n**Location**: `commands/` directory in plugin root\n\n**File format**: Markdown files with frontmatter\n\nFor complete details on plugin command structure, invocation patterns, and features, see [Plugin commands](/en/slash-commands#plugin-commands).\n\n### Agents\n\nPlugins can provide specialized subagents for specific tasks that Claude can invoke automatically when appropriate.\n\n**Location**: `agents/` directory in plugin root\n\n**File format**: Markdown files describing agent capabilities\n\n**Agent structure**:\n\n```markdown  theme={null}\n---\ndescription: What this agent specializes in\ncapabilities: [\"task1\", \"task2\", \"task3\"]\n---\n\n# Agent Name\n\nDetailed description of the agent's role, expertise, and when Claude should invoke it.\n\n## Capabilities\n- Specific task the agent excels at\n- Another specialized capability\n- When to use this agent vs others\n\n## Context and examples\nProvide examples of when this agent should be used and what kinds of problems it solves.\n```\n\n**Integration points**:\n\n* Agents appear in the `/agents` interface\n* Claude can invoke agents automatically based on task context\n* Agents can be invoked manually by users\n* Plugin agents work alongside built-in Claude agents\n\n### Skills\n\nPlugins can provide Agent Skills that extend Claude's capabilities. Skills are model-invokedClaude autonomously decides when to use them based on the task context.\n\n**Location**: `skills/` directory in plugin root\n\n**File format**: Directories containing `SKILL.md` files with frontmatter\n\n**Skill structure**:\n\n```\nskills/\n pdf-processor/\n    SKILL.md\n    reference.md (optional)\n    scripts/ (optional)\n code-reviewer/\n     SKILL.md\n```\n\n**Integration behavior**:\n\n* Plugin Skills are automatically discovered when the plugin is installed\n* Claude autonomously invokes Skills based on matching task context\n* Skills can include supporting files alongside SKILL.md\n\nFor SKILL.md format and complete Skill authoring guidance, see:\n\n* [Use Skills in Claude Code](/en/skills)\n* [Agent Skills overview](https://docs.claude.com/en/docs/agents-and-tools/agent-skills/overview#skill-structure)\n\n### Hooks\n\nPlugins can provide event handlers that respond to Claude Code events automatically.\n\n**Location**: `hooks/hooks.json` in plugin root, or inline in plugin.json\n\n**Format**: JSON configuration with event matchers and actions\n\n**Hook configuration**:\n\n```json  theme={null}\n{\n  \"hooks\": {\n    \"PostToolUse\": [\n      {\n        \"matcher\": \"Write|Edit\",\n        \"hooks\": [\n          {\n            \"type\": \"command\",\n            \"command\": \"${CLAUDE_PLUGIN_ROOT}/scripts/format-code.sh\"\n          }\n        ]\n      }\n    ]\n  }\n}\n```\n\n**Available events**:\n\n* `PreToolUse`: Before Claude uses any tool\n* `PostToolUse`: After Claude successfully uses any tool\n* `PostToolUseFailure`: After Claude tool execution fails\n* `PermissionRequest`: When a permission dialog is shown\n* `UserPromptSubmit`: When user submits a prompt\n* `Notification`: When Claude Code sends notifications\n* `Stop`: When Claude attempts to stop\n* `SubagentStart`: When a subagent is started\n* `SubagentStop`: When a subagent attempts to stop\n* `SessionStart`: At the beginning of sessions\n* `SessionEnd`: At the end of sessions\n* `PreCompact`: Before conversation history is compacted\n\n**Hook types**:\n\n* `command`: Execute shell commands or scripts\n* `prompt`: Evaluate a prompt with an LLM (uses `$ARGUMENTS` placeholder for context)\n* `agent`: Run an agentic verifier with tools for complex verification tasks\n\n### MCP servers\n\nPlugins can bundle Model Context Protocol (MCP) servers to connect Claude Code with external tools and services.\n\n**Location**: `.mcp.json` in plugin root, or inline in plugin.json\n\n**Format**: Standard MCP server configuration\n\n**MCP server configuration**:\n\n```json  theme={null}\n{\n  \"mcpServers\": {\n    \"plugin-database\": {\n      \"command\": \"${CLAUDE_PLUGIN_ROOT}/servers/db-server\",\n      \"args\": [\"--config\", \"${CLAUDE_PLUGIN_ROOT}/config.json\"],\n      \"env\": {\n        \"DB_PATH\": \"${CLAUDE_PLUGIN_ROOT}/data\"\n      }\n    },\n    \"plugin-api-client\": {\n      \"command\": \"npx\",\n      \"args\": [\"@company/mcp-server\", \"--plugin-mode\"],\n      \"cwd\": \"${CLAUDE_PLUGIN_ROOT}\"\n    }\n  }\n}\n```\n\n**Integration behavior**:\n\n* Plugin MCP servers start automatically when the plugin is enabled\n* Servers appear as standard MCP tools in Claude's toolkit\n* Server capabilities integrate seamlessly with Claude's existing tools\n* Plugin servers can be configured independently of user MCP servers\n\n### LSP servers\n\n<Tip>\n  Looking to use LSP plugins? Install them from the official marketplacesearch for \"lsp\" in the `/plugin` Discover tab. This section documents how to create LSP plugins for languages not covered by the official marketplace.\n</Tip>\n\nPlugins can provide [Language Server Protocol](https://microsoft.github.io/language-server-protocol/) (LSP) servers to give Claude real-time code intelligence while working on your codebase.\n\nLSP integration provides:\n\n* **Instant diagnostics**: Claude sees errors and warnings immediately after each edit\n* **Code navigation**: go to definition, find references, and hover information\n* **Language awareness**: type information and documentation for code symbols\n\n**Location**: `.lsp.json` in plugin root, or inline in `plugin.json`\n\n**Format**: JSON configuration mapping language server names to their configurations\n\n**`.lsp.json` file format**:\n\n```json  theme={null}\n{\n  \"go\": {\n    \"command\": \"gopls\",\n    \"args\": [\"serve\"],\n    \"extensionToLanguage\": {\n      \".go\": \"go\"\n    }\n  }\n}\n```\n\n**Inline in `plugin.json`**:\n\n```json  theme={null}\n{\n  \"name\": \"my-plugin\",\n  \"lspServers\": {\n    \"go\": {\n      \"command\": \"gopls\",\n      \"args\": [\"serve\"],\n      \"extensionToLanguage\": {\n        \".go\": \"go\"\n      }\n    }\n  }\n}\n```\n\n**Required fields:**\n\n| Field                 | Description                                  |\n| :-------------------- | :------------------------------------------- |\n| `command`             | The LSP binary to execute (must be in PATH)  |\n| `extensionToLanguage` | Maps file extensions to language identifiers |\n\n**Optional fields:**\n\n| Field                   | Description                                               |\n| :---------------------- | :-------------------------------------------------------- |\n| `args`                  | Command-line arguments for the LSP server                 |\n| `transport`             | Communication transport: `stdio` (default) or `socket`    |\n| `env`                   | Environment variables to set when starting the server     |\n| `initializationOptions` | Options passed to the server during initialization        |\n| `settings`              | Settings passed via `workspace/didChangeConfiguration`    |\n| `workspaceFolder`       | Workspace folder path for the server                      |\n| `startupTimeout`        | Max time to wait for server startup (milliseconds)        |\n| `shutdownTimeout`       | Max time to wait for graceful shutdown (milliseconds)     |\n| `restartOnCrash`        | Whether to automatically restart the server if it crashes |\n| `maxRestarts`           | Maximum number of restart attempts before giving up       |\n\n<Warning>\n  **You must install the language server binary separately.** LSP plugins configure how Claude Code connects to a language server, but they don't include the server itself. If you see `Executable not found in $PATH` in the `/plugin` Errors tab, install the required binary for your language.\n</Warning>\n\n**Available LSP plugins:**\n\n| Plugin           | Language server            | Install command                                                                            |\n| :--------------- | :------------------------- | :----------------------------------------------------------------------------------------- |\n| `pyright-lsp`    | Pyright (Python)           | `pip install pyright` or `npm install -g pyright`                                          |\n| `typescript-lsp` | TypeScript Language Server | `npm install -g typescript-language-server typescript`                                     |\n| `rust-lsp`       | rust-analyzer              | [See rust-analyzer installation](https://rust-analyzer.github.io/manual.html#installation) |\n\nInstall the language server first, then install the plugin from the marketplace.\n\n***\n\n## Plugin installation scopes\n\nWhen you install a plugin, you choose a **scope** that determines where the plugin is available and who else can use it:\n\n| Scope     | Settings file                 | Use case                                                 |\n| :-------- | :---------------------------- | :------------------------------------------------------- |\n| `user`    | `~/.claude/settings.json`     | Personal plugins available across all projects (default) |\n| `project` | `.claude/settings.json`       | Team plugins shared via version control                  |\n| `local`   | `.claude/settings.local.json` | Project-specific plugins, gitignored                     |\n| `managed` | `managed-settings.json`       | Managed plugins (read-only, update only)                 |\n\nPlugins use the same scope system as other Claude Code configurations. For installation instructions and scope flags, see [Install plugins](/en/discover-plugins#install-plugins). For a complete explanation of scopes, see [Configuration scopes](/en/settings#configuration-scopes).\n\n***\n\n## Plugin manifest schema\n\nThe `plugin.json` file defines your plugin's metadata and configuration. This section documents all supported fields and options.\n\n### Complete schema\n\n```json  theme={null}\n{\n  \"name\": \"plugin-name\",\n  \"version\": \"1.2.0\",\n  \"description\": \"Brief plugin description\",\n  \"author\": {\n    \"name\": \"Author Name\",\n    \"email\": \"author@example.com\",\n    \"url\": \"https://github.com/author\"\n  },\n  \"homepage\": \"https://docs.example.com/plugin\",\n  \"repository\": \"https://github.com/author/plugin\",\n  \"license\": \"MIT\",\n  \"keywords\": [\"keyword1\", \"keyword2\"],\n  \"commands\": [\"./custom/commands/special.md\"],\n  \"agents\": \"./custom/agents/\",\n  \"skills\": \"./custom/skills/\",\n  \"hooks\": \"./config/hooks.json\",\n  \"mcpServers\": \"./mcp-config.json\",\n  \"outputStyles\": \"./styles/\",\n  \"lspServers\": \"./.lsp.json\"\n}\n```\n\n### Required fields\n\n| Field  | Type   | Description                               | Example              |\n| :----- | :----- | :---------------------------------------- | :------------------- |\n| `name` | string | Unique identifier (kebab-case, no spaces) | `\"deployment-tools\"` |\n\n### Metadata fields\n\n| Field         | Type   | Description                         | Example                                            |\n| :------------ | :----- | :---------------------------------- | :------------------------------------------------- |\n| `version`     | string | Semantic version                    | `\"2.1.0\"`                                          |\n| `description` | string | Brief explanation of plugin purpose | `\"Deployment automation tools\"`                    |\n| `author`      | object | Author information                  | `{\"name\": \"Dev Team\", \"email\": \"dev@company.com\"}` |\n| `homepage`    | string | Documentation URL                   | `\"https://docs.example.com\"`                       |\n| `repository`  | string | Source code URL                     | `\"https://github.com/user/plugin\"`                 |\n| `license`     | string | License identifier                  | `\"MIT\"`, `\"Apache-2.0\"`                            |\n| `keywords`    | array  | Discovery tags                      | `[\"deployment\", \"ci-cd\"]`                          |\n\n### Component path fields\n\n| Field          | Type           | Description                                                                                                                                              | Example                                |\n| :------------- | :------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------- | :------------------------------------- |\n| `commands`     | string\\|array  | Additional command files/directories                                                                                                                     | `\"./custom/cmd.md\"` or `[\"./cmd1.md\"]` |\n| `agents`       | string\\|array  | Additional agent files                                                                                                                                   | `\"./custom/agents/\"`                   |\n| `skills`       | string\\|array  | Additional skill directories                                                                                                                             | `\"./custom/skills/\"`                   |\n| `hooks`        | string\\|object | Hook config path or inline config                                                                                                                        | `\"./hooks.json\"`                       |\n| `mcpServers`   | string\\|object | MCP config path or inline config                                                                                                                         | `\"./mcp-config.json\"`                  |\n| `outputStyles` | string\\|array  | Additional output style files/directories                                                                                                                | `\"./styles/\"`                          |\n| `lspServers`   | string\\|object | [Language Server Protocol](https://microsoft.github.io/language-server-protocol/) config for code intelligence (go to definition, find references, etc.) | `\"./.lsp.json\"`                        |\n\n### Path behavior rules\n\n**Important**: Custom paths supplement default directories - they don't replace them.\n\n* If `commands/` exists, it's loaded in addition to custom command paths\n* All paths must be relative to plugin root and start with `./`\n* Commands from custom paths use the same naming and namespacing rules\n* Multiple paths can be specified as arrays for flexibility\n\n**Path examples**:\n\n```json  theme={null}\n{\n  \"commands\": [\n    \"./specialized/deploy.md\",\n    \"./utilities/batch-process.md\"\n  ],\n  \"agents\": [\n    \"./custom-agents/reviewer.md\",\n    \"./custom-agents/tester.md\"\n  ]\n}\n```\n\n### Environment variables\n\n**`${CLAUDE_PLUGIN_ROOT}`**: Contains the absolute path to your plugin directory. Use this in hooks, MCP servers, and scripts to ensure correct paths regardless of installation location.\n\n```json  theme={null}\n{\n  \"hooks\": {\n    \"PostToolUse\": [\n      {\n        \"hooks\": [\n          {\n            \"type\": \"command\",\n            \"command\": \"${CLAUDE_PLUGIN_ROOT}/scripts/process.sh\"\n          }\n        ]\n      }\n    ]\n  }\n}\n```\n\n***\n\n## Plugin caching and file resolution\n\nFor security and verification purposes, Claude Code copies plugins to a cache directory rather than using them in-place. Understanding this behavior is important when developing plugins that reference external files.\n\n### How plugin caching works\n\nWhen you install a plugin, Claude Code copies the plugin files to a cache directory:\n\n* **For marketplace plugins with relative paths**: The path specified in the `source` field is copied recursively. For example, if your marketplace entry specifies `\"source\": \"./plugins/my-plugin\"`, the entire `./plugins` directory is copied.\n* **For plugins with `.claude-plugin/plugin.json`**: The implicit root directory (the directory containing `.claude-plugin/plugin.json`) is copied recursively.\n\n### Path traversal limitations\n\nPlugins cannot reference files outside their copied directory structure. Paths that traverse outside the plugin root (such as `../shared-utils`) will not work after installation because those external files are not copied to the cache.\n\n### Working with external dependencies\n\nIf your plugin needs to access files outside its directory, you have two options:\n\n**Option 1: Use symlinks**\n\nCreate symbolic links to external files within your plugin directory. Symlinks are honored during the copy process:\n\n```bash  theme={null}\n# Inside your plugin directory\nln -s /path/to/shared-utils ./shared-utils\n```\n\nThe symlinked content will be copied into the plugin cache.\n\n**Option 2: Restructure your marketplace**\n\nSet the plugin path to a parent directory that contains all required files, then provide the rest of the plugin manifest directly in the marketplace entry:\n\n```json  theme={null}\n{\n  \"name\": \"my-plugin\",\n  \"source\": \"./\",\n  \"description\": \"Plugin that needs root-level access\",\n  \"commands\": [\"./plugins/my-plugin/commands/\"],\n  \"agents\": [\"./plugins/my-plugin/agents/\"],\n  \"strict\": false\n}\n```\n\nThis approach copies the entire marketplace root, giving your plugin access to sibling directories.\n\n<Note>\n  Symlinks that point to locations outside the plugin's logical root are followed during copying. This provides flexibility while maintaining the security benefits of the caching system.\n</Note>\n\n***\n\n## Plugin directory structure\n\n### Standard plugin layout\n\nA complete plugin follows this structure:\n\n```\nenterprise-plugin/\n .claude-plugin/           # Metadata directory\n    plugin.json          # Required: plugin manifest\n commands/                 # Default command location\n    status.md\n    logs.md\n agents/                   # Default agent location\n    security-reviewer.md\n    performance-tester.md\n    compliance-checker.md\n skills/                   # Agent Skills\n    code-reviewer/\n       SKILL.md\n    pdf-processor/\n        SKILL.md\n        scripts/\n hooks/                    # Hook configurations\n    hooks.json           # Main hook config\n    security-hooks.json  # Additional hooks\n .mcp.json                # MCP server definitions\n .lsp.json                # LSP server configurations\n scripts/                 # Hook and utility scripts\n    security-scan.sh\n    format-code.py\n    deploy.js\n LICENSE                  # License file\n CHANGELOG.md             # Version history\n```\n\n<Warning>\n  The `.claude-plugin/` directory contains the `plugin.json` file. All other directories (commands/, agents/, skills/, hooks/) must be at the plugin root, not inside `.claude-plugin/`.\n</Warning>\n\n### File locations reference\n\n| Component       | Default Location             | Purpose                          |\n| :-------------- | :--------------------------- | :------------------------------- |\n| **Manifest**    | `.claude-plugin/plugin.json` | Required metadata file           |\n| **Commands**    | `commands/`                  | Slash command Markdown files     |\n| **Agents**      | `agents/`                    | Subagent Markdown files          |\n| **Skills**      | `skills/`                    | Agent Skills with SKILL.md files |\n| **Hooks**       | `hooks/hooks.json`           | Hook configuration               |\n| **MCP servers** | `.mcp.json`                  | MCP server definitions           |\n| **LSP servers** | `.lsp.json`                  | Language server configurations   |\n\n***\n\n## CLI commands reference\n\nClaude Code provides CLI commands for non-interactive plugin management, useful for scripting and automation.\n\n### plugin install\n\nInstall a plugin from available marketplaces.\n\n```bash  theme={null}\nclaude plugin install <plugin> [options]\n```\n\n**Arguments:**\n\n* `<plugin>`: Plugin name or `plugin-name@marketplace-name` for a specific marketplace\n\n**Options:**\n\n| Option                | Description                                       | Default |\n| :-------------------- | :------------------------------------------------ | :------ |\n| `-s, --scope <scope>` | Installation scope: `user`, `project`, or `local` | `user`  |\n| `-h, --help`          | Display help for command                          |         |\n\n**Examples:**\n\n```bash  theme={null}\n# Install to user scope (default)\nclaude plugin install formatter@my-marketplace\n\n# Install to project scope (shared with team)\nclaude plugin install formatter@my-marketplace --scope project\n\n# Install to local scope (gitignored)\nclaude plugin install formatter@my-marketplace --scope local\n```\n\n### plugin uninstall\n\nRemove an installed plugin.\n\n```bash  theme={null}\nclaude plugin uninstall <plugin> [options]\n```\n\n**Arguments:**\n\n* `<plugin>`: Plugin name or `plugin-name@marketplace-name`\n\n**Options:**\n\n| Option                | Description                                         | Default |\n| :-------------------- | :-------------------------------------------------- | :------ |\n| `-s, --scope <scope>` | Uninstall from scope: `user`, `project`, or `local` | `user`  |\n| `-h, --help`          | Display help for command                            |         |\n\n**Aliases:** `remove`, `rm`\n\n### plugin enable\n\nEnable a disabled plugin.\n\n```bash  theme={null}\nclaude plugin enable <plugin> [options]\n```\n\n**Arguments:**\n\n* `<plugin>`: Plugin name or `plugin-name@marketplace-name`\n\n**Options:**\n\n| Option                | Description                                    | Default |\n| :-------------------- | :--------------------------------------------- | :------ |\n| `-s, --scope <scope>` | Scope to enable: `user`, `project`, or `local` | `user`  |\n| `-h, --help`          | Display help for command                       |         |\n\n### plugin disable\n\nDisable a plugin without uninstalling it.\n\n```bash  theme={null}\nclaude plugin disable <plugin> [options]\n```\n\n**Arguments:**\n\n* `<plugin>`: Plugin name or `plugin-name@marketplace-name`\n\n**Options:**\n\n| Option                | Description                                     | Default |\n| :-------------------- | :---------------------------------------------- | :------ |\n| `-s, --scope <scope>` | Scope to disable: `user`, `project`, or `local` | `user`  |\n| `-h, --help`          | Display help for command                        |         |\n\n### plugin update\n\nUpdate a plugin to the latest version.\n\n```bash  theme={null}\nclaude plugin update <plugin> [options]\n```\n\n**Arguments:**\n\n* `<plugin>`: Plugin name or `plugin-name@marketplace-name`\n\n**Options:**\n\n| Option                | Description                                               | Default |\n| :-------------------- | :-------------------------------------------------------- | :------ |\n| `-s, --scope <scope>` | Scope to update: `user`, `project`, `local`, or `managed` | `user`  |\n| `-h, --help`          | Display help for command                                  |         |\n\n***\n\n## Debugging and development tools\n\n### Debugging commands\n\nUse `claude --debug` to see plugin loading details:\n\n```bash  theme={null}\nclaude --debug\n```\n\nThis shows:\n\n* Which plugins are being loaded\n* Any errors in plugin manifests\n* Command, agent, and hook registration\n* MCP server initialization\n\n### Common issues\n\n| Issue                               | Cause                           | Solution                                                                          |\n| :---------------------------------- | :------------------------------ | :-------------------------------------------------------------------------------- |\n| Plugin not loading                  | Invalid `plugin.json`           | Validate JSON syntax with `claude plugin validate` or `/plugin validate`          |\n| Commands not appearing              | Wrong directory structure       | Ensure `commands/` at root, not in `.claude-plugin/`                              |\n| Hooks not firing                    | Script not executable           | Run `chmod +x script.sh`                                                          |\n| MCP server fails                    | Missing `${CLAUDE_PLUGIN_ROOT}` | Use variable for all plugin paths                                                 |\n| Path errors                         | Absolute paths used             | All paths must be relative and start with `./`                                    |\n| LSP `Executable not found in $PATH` | Language server not installed   | Install the binary (e.g., `npm install -g typescript-language-server typescript`) |\n\n### Example error messages\n\n**Manifest validation errors**:\n\n* `Invalid JSON syntax: Unexpected token } in JSON at position 142`: check for missing commas, extra commas, or unquoted strings\n* `Plugin has an invalid manifest file at .claude-plugin/plugin.json. Validation errors: name: Required`: a required field is missing\n* `Plugin has a corrupt manifest file at .claude-plugin/plugin.json. JSON parse error: ...`: JSON syntax error\n\n**Plugin loading errors**:\n\n* `Warning: No commands found in plugin my-plugin custom directory: ./cmds. Expected .md files or SKILL.md in subdirectories.`: command path exists but contains no valid command files\n* `Plugin directory not found at path: ./plugins/my-plugin. Check that the marketplace entry has the correct path.`: the `source` path in marketplace.json points to a non-existent directory\n* `Plugin my-plugin has conflicting manifests: both plugin.json and marketplace entry specify components.`: remove duplicate component definitions or set `strict: true` in marketplace entry\n\n### Hook troubleshooting\n\n**Hook script not executing**:\n\n1. Check the script is executable: `chmod +x ./scripts/your-script.sh`\n2. Verify the shebang line: First line should be `#!/bin/bash` or `#!/usr/bin/env bash`\n3. Check the path uses `${CLAUDE_PLUGIN_ROOT}`: `\"command\": \"${CLAUDE_PLUGIN_ROOT}/scripts/your-script.sh\"`\n4. Test the script manually: `./scripts/your-script.sh`\n\n**Hook not triggering on expected events**:\n\n1. Verify the event name is correct (case-sensitive): `PostToolUse`, not `postToolUse`\n2. Check the matcher pattern matches your tools: `\"matcher\": \"Write|Edit\"` for file operations\n3. Confirm the hook type is valid: `command`, `prompt`, or `agent`\n\n### MCP server troubleshooting\n\n**Server not starting**:\n\n1. Check the command exists and is executable\n2. Verify all paths use `${CLAUDE_PLUGIN_ROOT}` variable\n3. Check the MCP server logs: `claude --debug` shows initialization errors\n4. Test the server manually outside of Claude Code\n\n**Server tools not appearing**:\n\n1. Ensure the server is properly configured in `.mcp.json` or `plugin.json`\n2. Verify the server implements the MCP protocol correctly\n3. Check for connection timeouts in debug output\n\n### Directory structure mistakes\n\n**Symptoms**: Plugin loads but components (commands, agents, hooks) are missing.\n\n**Correct structure**: Components must be at the plugin root, not inside `.claude-plugin/`. Only `plugin.json` belongs in `.claude-plugin/`.\n\n```\nmy-plugin/\n .claude-plugin/\n    plugin.json       Only manifest here\n commands/             At root level\n agents/               At root level\n hooks/                At root level\n```\n\nIf your components are inside `.claude-plugin/`, move them to the plugin root.\n\n**Debug checklist**:\n\n1. Run `claude --debug` and look for \"loading plugin\" messages\n2. Check that each component directory is listed in the debug output\n3. Verify file permissions allow reading the plugin files\n\n***\n\n## Distribution and versioning reference\n\n### Version management\n\nFollow semantic versioning for plugin releases:\n\n```json  theme={null}\n{\n  \"name\": \"my-plugin\",\n  \"version\": \"2.1.0\"\n}\n```\n\n**Version format**: `MAJOR.MINOR.PATCH`\n\n* **MAJOR**: Breaking changes (incompatible API changes)\n* **MINOR**: New features (backward-compatible additions)\n* **PATCH**: Bug fixes (backward-compatible fixes)\n\n**Best practices**:\n\n* Start at `1.0.0` for your first stable release\n* Update the version in `plugin.json` before distributing changes\n* Document changes in a `CHANGELOG.md` file\n* Use pre-release versions like `2.0.0-beta.1` for testing\n\n***\n\n## See also\n\n* [Plugins](/en/plugins) - Tutorials and practical usage\n* [Plugin marketplaces](/en/plugin-marketplaces) - Creating and managing marketplaces\n* [Slash commands](/en/slash-commands) - Command development details\n* [Subagents](/en/sub-agents) - Agent configuration and capabilities\n* [Agent Skills](/en/skills) - Extend Claude's capabilities\n* [Hooks](/en/hooks) - Event handling and automation\n* [MCP](/en/mcp) - External tool integration\n* [Settings](/en/settings) - Configuration options for plugins\n\n\n---\n\n> To find navigation and other pages in this documentation, fetch the llms.txt file at: https://code.claude.com/docs/llms.txt","durationMs":167,"url":"https://code.claude.com/docs/en/plugins-reference.md"},"sourceToolAssistantUUID":"a0b0f90f-f728-4eb9-87c5-f5b34b38e9fd"}
{"parentUuid":"5a2cdd1b-8f1a-4622-86f9-5621d9c6700c","isSidechain":true,"userType":"external","cwd":"/Users/liuhanwen/Desktop/project/webtech-monorepo/packages","sessionId":"46130ba2-b7ed-45e0-88b6-475c365b9d80","version":"2.1.12","gitBranch":"vor-27075","agentId":"a23c139","slug":"streamed-hatching-codd","message":{"model":"claude-haiku-4-5-20251001","id":"msg_01BvEMgUfAcVc9XuqfqBKRuN","type":"message","role":"assistant","content":[{"type":"text","text":"Based on my search of the official Claude Code documentation and recent developments, here's what you need to know about LSP (Language Server Protocol) integration with Claude Code:\n\n## LSP Support is Now Available\n\nYes, Claude Code fully supports Language Server Protocol (LSP) integration. LSP support was released in December 2025 and provides real-time code intelligence for 11+ programming languages.\n\n## Capabilities\n\nLSP integration provides Claude with:\n\n* **Instant diagnostics**: Claude sees errors and warnings immediately after each edit\n* **Code navigation**: Go to definition, find references, and hover information\n* **Language awareness**: Type information and documentation for code symbols\n* **Ultra-fast codebase navigation**: Navigate codebases in ~50ms instead of traditional text search (45 seconds)\n\n## Configuration via Plugins\n\nLSP servers are configured in Claude Code through the **plugin system**. There are two ways to configure LSP servers:\n\n### Option 1: Standalone `.lsp.json` File\n\nCreate a `.lsp.json` file at your plugin root:\n\n```json\n{\n  \"go\": {\n    \"command\": \"gopls\",\n    \"args\": [\"serve\"],\n    \"extensionToLanguage\": {\n      \".go\": \"go\"\n    }\n  }\n}\n```\n\n### Option 2: Inline in `plugin.json`\n\n```json\n{\n  \"name\": \"my-lsp-plugin\",\n  \"lspServers\": {\n    \"go\": {\n      \"command\": \"gopls\",\n      \"args\": [\"serve\"],\n      \"extensionToLanguage\": {\n        \".go\": \"go\"\n      }\n    }\n  }\n}\n```\n\n## Configuration Fields\n\n**Required fields:**\n\n| Field                 | Description                                  |\n|:--------------------|:-------------------------------------------|\n| `command`             | The LSP binary to execute (must be in PATH) |\n| `extensionToLanguage` | Maps file extensions to language identifiers |\n\n**Optional fields:**\n\n| Field                   | Description                                          |\n|:-----------------------|:---------------------------------------------------|\n| `args`                  | Command-line arguments for the LSP server           |\n| `transport`             | `stdio` (default) or `socket`                       |\n| `env`                   | Environment variables when starting the server      |\n| `initializationOptions` | Options passed to the server during initialization   |\n| `settings`              | Settings via `workspace/didChangeConfiguration`     |\n| `workspaceFolder`       | Workspace folder path for the server                |\n| `startupTimeout`        | Max time to wait for server startup (milliseconds)   |\n| `shutdownTimeout`       | Max time to wait for graceful shutdown               |\n| `restartOnCrash`        | Auto-restart if server crashes                      |\n| `maxRestarts`           | Maximum restart attempts before giving up           |\n\n## Official LSP Plugins\n\nClaude Code provides pre-built LSP plugins for common languages. Install from the official marketplace:\n\n| Plugin           | Language                     | Install Command                                              |\n|:-----------------|:---------------------------|:------------------------------------------------------------|\n| `pyright-lsp`    | Python (Pyright)            | `pip install pyright` or `npm install -g pyright`          |\n| `typescript-lsp` | TypeScript Language Server  | `npm install -g typescript-language-server typescript`      |\n| `rust-lsp`       | Rust (rust-analyzer)        | [rust-analyzer installation](https://rust-analyzer.github.io/manual.html#installation) |\n\n## Installation Steps\n\n1. **Install the language server binary first** (required):\n   ```bash\n   npm install -g typescript-language-server typescript\n   ```\n\n2. **Install the LSP plugin from marketplace**:\n   ```bash\n   claude plugin install typescript-lsp\n   ```\n\n3. **Enable LSP in Claude Code**:\n   - Use the `/plugin` command to discover and manage LSP plugins\n   - LSP servers start automatically when the plugin is enabled\n\n## Important Notes\n\n- You must install the language server binary separately. LSP plugins only configure how Claude Code connects to a language serverthey don't include the server itself.\n- If you see \"Executable not found in $PATH\", install the required binary for your language first.\n- Support is still evolving: bugs in different LSP operations exist, and there's no UI indication of server status. Monitor the community tools and plugins that have emerged to enhance usability.\n\n## Creating Custom LSP Plugins\n\nFor languages not covered by the official marketplace, create your plugin with an `.lsp.json` file. See the [Plugins documentation](https://code.claude.com/docs/en/plugins.md) for the complete structure.\n\n## Next Steps\n\n- Browse available LSP plugins: `/plugin` command  Discover tab  search \"lsp\"\n- For complete technical specifications: [Plugins reference - LSP servers](https://code.claude.com/docs/en/plugins-reference.md#lsp-servers)\n- For plugin creation: [Create plugins guide](https://code.claude.com/docs/en/plugins.md#add-lsp-servers-to-your-plugin)\n\nSources:\n- [Claude Code Plugins Documentation](https://code.claude.com/docs/en/plugins.md)\n- [Claude Code Plugins Reference](https://code.claude.com/docs/en/plugins-reference.md)\n- [Claude Code LSP: Complete Setup Guide](https://www.aifreeapi.com/en/posts/claude-code-lsp)\n- [Hacker News - Claude Code LSP Support](https://news.ycombinator.com/item?id=46355165)\n- [Medium - Using Claude Code LSP](https://medium.com/@joe.njenga/how-im-using-new-claude-code-lsp-to-code-fix-bugs-faster-language-server-protocol-cf744d228d02)"}],"stop_reason":null,"stop_sequence":null,"usage":{"input_tokens":4120,"cache_creation_input_tokens":7211,"cache_read_input_tokens":16690,"cache_creation":{"ephemeral_5m_input_tokens":7211,"ephemeral_1h_input_tokens":0},"output_tokens":1,"service_tier":"standard"}},"requestId":"req_011CXERr1BjG5jbm11nhGAUu","type":"assistant","uuid":"bdb2441c-9568-4e87-9d54-f436199cc008","timestamp":"2026-01-18T07:13:30.823Z"}
